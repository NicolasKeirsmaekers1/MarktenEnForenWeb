{"version":3,"sources":["./ClientApp/app/componenten/klant-core/app.address.ts","./ClientApp/app/componenten/klant-core/onderneming-select.component.ts","./ClientApp/app/componenten/klant-core/html/contactpersoon.component.html","./ClientApp/app/componenten/klant-core/index.ts","./ClientApp/app/componenten/klant-core/klant-detail.component.ts","./ClientApp/app/componenten/klant-core/onderneming.service.ts","./ClientApp/app/componenten/klant-core/html/app.address.layout.html","./ClientApp/app/componenten/klant-core/html/klant-detail.component.html","./ClientApp/app/componenten/klant-core/klant.service.ts","./ClientApp/app/componenten/klant-core/contactpersoon.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyG;AACX;;IAqB1F,0BAAoB,EAAe;QAAnC,iBAAwC;QAApB,OAAE,GAAF,EAAE,CAAa;QAb1B,YAAO,GAAY,KAAK,CAAC;QACzB,aAAQ,GAAY,KAAK,CAAC;QACzB,WAAM,GAAG,IAAI,0DAAY,EAAE,CAAC;QAiC9B,cAAS,GAAG;YAChB,IAAM,UAAU,GAAkB,EAAE,CAAC;YACrC,IAAI,KAAI,CAAC,QAAQ;gBAAE,UAAU,CAAC,IAAI,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAExD,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YACpE,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC;YACxF,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;YAChF,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC;YAC5F,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC;YAC5F,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,yBAAyB,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,uBAAuB,EAAE,UAAU,CAAC,CAAC,CAAC;YAC1H,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,EAAE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,CAAC;YAE9G,IAAI,KAAI,CAAC,OAAO,EAAE;gBACd,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;aAC9B;QACL,CAAC;IArCsC,CAAC;IARxC,sBACI,qCAAO;aAGX;YACI,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,KAAK,EAAE,CAAC;QACxC,CAAC;aAND,UACY,OAAc;YACtB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAC5B,CAAC;;;OAAA;IAOD,mCAAQ,GAAR;QACI,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,sCAAW,GAAX,UAAY,OAAsB;QAC9B,qDAAqD;QACrD,IAAI,OAAO,CAAC,SAAS,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;YACpE,IAAI,QAAQ,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC;YAC/C,IAAI,QAAQ,EAAE;gBACV,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;aAC9B;iBAAM;gBACH,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;aAC7B;SACJ;QACD,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;QACjC,IAAI,OAAO,IAAI,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAClF,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC5C;IACL,CAAC;;gBAzCI,0DAAW;;;8BAOf,mDAAK,SAAC,OAAO;0BACb,mDAAK;2BACL,mDAAK;yBACL,oDAAM;0BAGN,mDAAK;;IAPG,gBAAgB;QAJ5B,+DAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,yFAA2C;SAC9C,CAAC;uFAgB0B,0DAAW;OAf1B,gBAAgB,CAqD5B;IAAD,uBAAC;CAAA;AArD4B;AAuD7B;IASI,eAAY,EAAM,EAAE,MAAW,EAAE,EAAO,EAAE,QAAa,EAAE,QAAa,EAAE,uBAA+B,EAAE,iBAAyB;QAAtH,2BAAM;QAAE,oCAAW;QAAE,4BAAO;QAAE,wCAAa;QAAE,wCAAa;QAAE,yEAA+B;QAAE,6DAAyB;QARlI,OAAE,GAAY,CAAC,CAAC;QAChB,WAAM,GAAW,EAAE,CAAC;QACpB,OAAE,GAAW,EAAE,CAAC;QAChB,aAAQ,GAAW,EAAE,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QACtB,4BAAuB,GAAY,KAAK,CAAC;QACzC,sBAAiB,GAAY,KAAK,CAAC;QAG/B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,uBAAuB,GAAG,uBAAuB,CAAC;QACvD,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAC/C,CAAC;IACL,YAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;AChFoG;AACF;AACxC;AAChB;;IAwBvC,oCAAoB,cAAkC,EAAU,MAAqB;QAAjE,mBAAc,GAAd,cAAc,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAe;QAd7E,WAAM,GAAW,EAAE,CAAC;QACpB,oBAAe,GAAG,UAAC,CAAM,IAAO,CAAC,CAAC;QAEhC,aAAQ,GAAG,IAAI,0DAAY,EAAO,CAAC;IAa7C,CAAC;mCAjBQ,0BAA0B;IAMnC,sBAAI,6CAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAU,GAAG;YACT,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACtC,CAAC;;;OALA;IAKA,CAAC;IAMM,2DAAsB,GAA9B,UAA+B,KAAK;QAChC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAClB,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IACO,6DAAwB,GAAhC,UAAiC,MAAM;QAAvC,iBAkBC;QAjBG,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,gCAAgC,EAAE,6BAA6B,CAAC,CAAC;SACxF;aACI;YACD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,WAAC;gBAChD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,EAAE,eAAK;gBACJ,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2CAA2C,EAAE,2BAA2B,CAAC,CAAC;gBACxF,IAAI,KAAK,CAAC,SAAS,EAAE;oBACjB,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,SAAS,EAAE;wBAC9B,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;qBAC9D;iBACJ;gBAEL,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,+CAAU,GAAV,UAAW,KAAU;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,qDAAgB,GAAhB,UAAiB,EAAO;QACpB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC9B,CAAC;IAED,sDAAiB,GAAjB,UAAkB,EAAE,IAAU,CAAC;IAE/B,6CAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACxB,CAAC;;;gBAlEI,uEAAkB;gBAClB,wDAAa;;;2BAajB,oDAAM;;IAJE,0BAA0B;QAPtC,+DAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;YAC9B,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,gEAAiB,EAAE,WAAW,EAAE,gEAAU,CAAC,cAAM,mCAA0B,EAA1B,CAA0B,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;aACzG;YACD,QAAQ,EAAE,mIAA6H;SAC1I,CAAC;uFAgBsC,uEAAkB,EAAkB,wDAAa;OAf5E,0BAA0B,CAyDtC;IAAD,iCAAC;CAAA;AAzDsC;;;;;;;;;;;;ACZvC,kVAAkV,MAAM,sBAAsB,OAAO,u9G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA/R;AACvC;AACmB;AAGjB;AACoB;AACD;AACQ;AACjB;AACZ;AAEE;AACS;AACX;AACH;AACH;AACS;AAElD,IAAM,UAAU,GAAG;IACf,wFAA0B,EAAE,6DAAgB,EAAE,iFAAuB,EAAE,gFAAwB;CAClG,CAAC;AAEF,IAAM,OAAO,GAAG;IACZ,4DAAY;IACZ,kEAAmB;IACnB,8DAAgB;IAChB,qDAAY;IACZ,6DAAgB;IAChB,sEAAoB;IACpB,2DAAe;IACf,qDAAY;CACf,CAAC;;;IAUF,CAAC;IADY,eAAe;QAP3B,8DAAQ,CAAC;YACN,YAAY,EAAE,UAAU;YACxB,OAAO,EAAE,6DAAI,OAAO,CAAC;YACrB,SAAS,EAAE,CAAC,2DAAY,EAAE,uEAAkB,CAAC;YAC7C,OAAO,EAAE,6DAAI,UAAU,EAAK,OAAO,CAAC;YACpC,OAAO,EAAE,CAAC,oEAAsB,CAAC;SACpC,CAAC;OACW,eAAe,CAC3B;IAAD,sBAAC;CAAA;AAD2B;AAEE;AACa;AACF;AACT;AACM;AACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDgC;AACA;AACtB;AACN;AACR;AACY;AACI;AACR;AACgB;AACb;AAC4B;AAC9B;AACC;AACf;;IA+DlC,kCAAoB,KAAqB,EAC7B,MAAc,EACd,MAAqB,EACrB,EAAe,EACf,QAAsB,EACtB,cAAkC,EAClC,iBAAoC,EACpC,IAAiB,EACjB,iBAAmC;QAR/C,iBASK;QATe,UAAK,GAAL,KAAK,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAe;QACrB,OAAE,GAAF,EAAE,CAAa;QACf,aAAQ,GAAR,QAAQ,CAAc;QACtB,mBAAc,GAAd,cAAc,CAAoB;QAClC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,SAAI,GAAJ,IAAI,CAAa;QACjB,sBAAiB,GAAjB,iBAAiB,CAAkB;QA9DtC,eAAU,GAAY,KAAK,CAAC;QAC5B,gBAAW,GAAY,KAAK,CAAC;QAC9B,WAAM,GAAG,IAAI,oDAAe,CAAS,IAAI,CAAC,CAAC;QA6BzC,cAAS,GAAG,IAAI,0DAAY,EAAU,CAAC;QASzC,+BAA0B,GAAY,KAAK,CAAC;QAY5C,4BAAuB,GAAY,KAAK,CAAC;QA2FjD,gCAA2B,GAAiB;YACxC,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,CAAC;oBACL,KAAK,EAAE,OAAO;oBACd,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,IAAI;oBACd,IAAI,EAAE,oDAAS,CAAC,SAAS;iBAC5B,EAAE;oBACC,KAAK,EAAE,QAAQ;oBACf,KAAK,EAAE,QAAQ;iBAClB,EAAE;oBACC,KAAK,EAAE,SAAS;oBAChB,KAAK,EAAE,SAAS;iBACnB,EAAE;oBACC,KAAK,EAAE,OAAO;oBACd,KAAK,EAAE,OAAO;iBACjB,EAAE;oBACC,KAAK,EAAE,YAAY;oBACnB,KAAK,EAAE,OAAO;iBACjB,EAAE;oBACC,KAAK,EAAE,UAAU;oBACjB,KAAK,EAAE,UAAU;iBACpB,EAAE;oBACC,KAAK,EAAE,cAAc;oBACrB,KAAK,EAAE,QAAQ;iBAClB,EAAE;oBACC,KAAK,EAAE,aAAa;oBACpB,KAAK,EAAE,aAAa;iBACvB,CAAC;SACL,CAAC;QAqCF,wBAAmB,GAAiB;YAChC,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,CAAC;oBACL,KAAK,EAAE,YAAY;oBACnB,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,IAAI;oBACd,IAAI,EAAE,oDAAS,CAAC,SAAS;iBAC5B,EAAE;oBACC,KAAK,EAAE,WAAW;oBAClB,KAAK,EAAE,OAAO;iBACjB,EAAE;oBACC,KAAK,EAAE,YAAY;oBACnB,KAAK,EAAE,OAAO;iBACjB,EAAE;oBACC,KAAK,EAAE,oBAAoB;oBAC3B,KAAK,EAAE,UAAU;iBACpB,EAAE;oBACC,KAAK,EAAE,cAAc;oBACrB,KAAK,EAAE,UAAU;iBACpB,EAAE;oBACC,KAAK,EAAE,YAAY;oBACnB,KAAK,EAAE,QAAQ;iBAClB,EAAE;oBACC,KAAK,EAAE,iBAAiB;oBACxB,KAAK,EAAE,aAAa;iBACvB,EAAE;oBACC,KAAK,EAAE,aAAa;oBACpB,KAAK,EAAE,SAAS;iBACnB,EAAE;oBACC,KAAK,EAAE,mBAAmB;oBAC1B,KAAK,EAAE,eAAe;iBACzB,CAAC;SACL,CAAC;QA+DF,MAAM;QAEN,6BAAwB,GAAG;YACvB,IAAI,KAAI,CAAC,uBAAuB,EAAE;gBAC9B,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,KAAK,CAAC,CAAC;aACvG;QACL,CAAC;IAvPG,CAAC;IA3DL,sBACI,2CAAK;aAsBT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAClC,CAAC;aAzBD,UACU,KAAa;YACnB,IAAI,KAAK,CAAC,eAAe,IAAI,KAAK,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC;gBAC3D,KAAK,CAAC,eAAe,GAAG,CAAC,IAAI,kEAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YAChD,IAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;gBACxB,EAAE,EAAE,CAAC;gBACL,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,EAAE;gBACb,kBAAkB,EAAE,EAAE;gBACtB,cAAc,EAAE,EAAE;gBAClB,QAAQ,EAAE,EAAE;gBACZ,GAAG,EAAE,EAAE;gBACP,KAAK,EAAE,EAAE;gBACT,GAAG,EAAE,EAAE;gBACP,eAAe,EAAE,CAAC,IAAI,kEAAO,CAAC,IAAI,CAAC,CAAC;gBACpC,qBAAqB,EAAE,IAAI,mDAAK,EAAE;gBAClC,eAAe,EAAE,IAAI,mDAAK,EAAE;gBAC5B,SAAS,EAAE,EAAE;aAChB,EAAE,KAAK,CAAC,CAAC;YACV,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK;gBACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;;;OAAA;IAAA,CAAC;IAsBF,sBAAY,2CAAK;aAAjB;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;YAClD,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC;QACrF,CAAC;;;OAAA;IAeD,2CAAQ,GAAR;QAAA,iBAOC;QANG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAC;YACnB,IAAI,KAAI,CAAC,KAAK;gBAAE,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC/B,CAAC;IACO,+CAAY,GAApB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACpE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;aAAM;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAAE;QAEnC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YAClE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;aAAM;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAAE;QAEnC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;YACxD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;aAAM;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAAE;QAEnC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;YACxD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;aAAM;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAAE;QAEnC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;YACtF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;aAAM;YAAE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;SAAE;QAEzC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;aAAM;YAAE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAAE;QAErC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;aAAM;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAAE;IAGvC,CAAC;IACO,2CAAQ,GAAhB;QACI,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,EAAE,EAAE;YAClD,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;QAED,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9E,KAAsB,UAA0B,EAA1B,SAAI,CAAC,KAAK,CAAC,eAAe,EAA1B,cAA0B,EAA1B,IAA0B,EAAE;YAA7C,IAAM,OAAO;YACd,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;SAChD;QAED,2BAA2B;QAC3B,gCAAgC;QAChC,+CAA+C;QAC/C,GAAG;QACH,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IAE/J,CAAC;IAED,2DAAwB,GAAxB,UAAyB,qCAAiE;QACtF,IAAI,qCAAqC,EAAE;YACvC,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;YAExC,IAAI,qBAAqB,IAAI,qCAAqC,CAAC,QAAQ,EAAE;gBACzE,IAAI,CAAC,YAAY,GAAG,qCAAqC,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;gBAC1F,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;aAC1C;YAED,IAAI,CAAC,KAAK,GAAG,qCAAqC,CAAC,IAAI,CAAC;SAC3D;QACD,IAAI,IAAI,CAAC,KAAK;YAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAEpC,CAAC;IAqCD,4DAAyB,GAAzB,UAA0B,IAAsB;QAAhD,iBAWC;QAVG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,gBAAM;YAC5D,KAAI,CAAC,wBAAwB,GAAG,MAAM,CAAC;QAC3C,CAAC,EAAE,WAAC;YACA,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2DAA2D,EAAE,uBAAuB,CAAC,CAAC;YACxG,IAAI,CAAC,CAAC,SAAS,EAAE;gBACb,KAAK,IAAI,IAAI,IAAI,CAAC,CAAC,SAAS,EAAE;oBAC1B,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC1D;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iEAA8B,GAA9B,UAA+B,GAAQ;QACnC,QAAQ,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;YACrB,KAAK,2DAAoB,CAAC,cAAc,CAAC,MAAM;gBAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM;YACV,KAAK,2DAAoB,CAAC,cAAc,CAAC,gBAAgB;gBACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,gBAAgB,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpE,MAAM;YACV,KAAK,2DAAoB,CAAC,cAAc,CAAC,aAAa;gBAClD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,aAAa,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACjE,MAAM;YACV,KAAK,2DAAoB,CAAC,cAAc,CAAC,YAAY;gBACjD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,YAAY,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBAChE,MAAM;YACV,OAAO,CAAC,CAAC,CAAC;SACb;IACL,CAAC;IAwCD,oDAAiB,GAAjB,UAAkB,IAAsB;QAAxC,iBAMC;QALG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,WAAC;YACvE,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC9B,CAAC,EAAE,eAAK;YACJ,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0DAA0D,EAAE,sBAAsB,CAAC,CAAC;QAC1G,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yDAAsB,GAAtB,UAAuB,GAAQ;QAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IACtD,CAAC;IAID,sBAAI,qDAAe;QAFnB,iBAAiB;aAEjB;YACI,OAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC5D,CAAC;;;OAAA;IAED,sDAAmB,GAAnB,UAAoB,KAAa;QAC7B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,EAAa,EAAE,GAAW;YAC7D,IAAI,GAAG,KAAK,KAAK;gBAAE,OAAO;YAC1B,EAAE,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uDAAoB,GAApB,UAAqB,KAAa;QAC9B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAED,6CAAU,GAAV;QACI,IAAM,OAAO,GAAc,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;QACtE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IAAA,CAAC;IAEF,qDAAkB,GAAlB;QAAA,iBAyBC;QAxBG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;QAExC,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,GAAG,EAAE,EAAE;YACvC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,gCAAgC,EAAE,6BAA6B,CAAC,CAAC;SACxF;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,WAAC;gBACpE,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;gBACpB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,0DAA0D,EAAE,oBAAoB,CAAC,CAAC;gBACtG,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAEhC,IAAI,qBAAqB,IAAI,CAAC,CAAC,QAAQ,EAAE;oBACrC,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;oBACtD,KAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;iBAC1C;gBAED,mCAAmC;YACvC,CAAC,EAAE,eAAK;gBACJ,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,2CAA2C,EAAE,2BAA2B,CAAC,CAAC;gBAC9F,2BAA2B;YAC/B,CAAC,CAAC,CAAC;SAEN;IACL,CAAC;IAAA,CAAC;IAUF,yDAAsB,GAAtB;QACI,IAAI,CAAC,uBAAuB,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC;QAC7D,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACpC,CAAC;IAEO,4CAAS,GAAjB;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC3B,IAAI,EAAE,CAAC,CAAC,CAAC;YACT,eAAe,EAAE,CAAC,IAAI,CAAC;YACvB,gBAAgB,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,6BAA6B,EAAE,CAAC;YAC5D,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YACnE,oBAAoB,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACjD,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC/E,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC1E,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC1E,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,6DAAgB,CAAC,UAAU,CAAC,CAAC;YACtE,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7C,uBAAuB,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;YAC1C,iBAAiB,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;YACpC,iBAAiB,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;SACvC,CAAC,CAAC;IACP,CAAC;IAED,2CAAQ,GAAR;QAAA,iBAsBC;QArBG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;YACvB,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,8CAA8C,EAAE,oBAAoB,CAAC,CAAC;SAC7F;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,QAAa;gBAC7D,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACtB,wCAAwC;gBACxC,IAAI,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;iBACnC;gBACD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,yBAAyB,EAAE,eAAe,CAAC,CAAC;YACpE,CAAC,EAAE,UAAC,CAAC;gBACD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE,eAAe,CAAC,CAAC;gBACrE,IAAI,CAAC,CAAC,SAAS,EAAE;oBACb,KAAK,IAAI,IAAI,IAAI,CAAC,CAAC,SAAS,EAAE;wBAC1B,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;qBAC1D;iBACJ;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAAA,CAAC;IAEF,YAAY;IAEJ,gEAA6B,GAArC;QACI,IAAM,UAAU,GAAG,CAAC,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,6DAAI,UAAU,GAAE,yDAAU,CAAC,QAAQ,GAAE,CAAC,CAAC,UAAU,CAAC;IACtG,CAAC;IAED,2CAAQ,GAAR;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,gDAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACvE,CAAC;;gBApYI,8DAAc;gBAAE,sDAAM;gBAEtB,wDAAa;gBAHF,0DAAW;gBAItB,2DAAY;gBACZ,uEAAkB;gBAClB,2DAAiB;gBAIjB,kDAAW;gBAHO,6DAAgB;;;6BActC,mDAAK;8BACL,mDAAK;wBAGL,mDAAK;4BA2BL,oDAAM;;IAhCE,wBAAwB;QAJpC,+DAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,6FAAiD;SACpD,CAAC;uFAwD6B,8DAAc;YACrB,sDAAM;YACN,wDAAa;YACjB,0DAAW;YACL,2DAAY;YACN,uEAAkB;YACf,2DAAiB;YAC9B,kDAAW;YACE,6DAAgB;OA/DtC,wBAAwB,CAkXpC;IAAD,+BAAC;CAAA;AAlXoC;;;;;;;;;;;;;;;;;;;;;;;ACrBU;AACJ;AACkB;AACX;AAET;;IAID,oFAAW;IAG/C,4BAAsB,KAAiB,EAAY,MAA6B;QAAhF,YACI,kBAAM,KAAK,EAAE,MAAM,CAAC,SACvB;QAFqB,WAAK,GAAL,KAAK,CAAY;QAAY,YAAM,GAAN,MAAM,CAAuB;QAFxE,SAAG,GAAG,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;;IAI7C,CAAC;IAED,mCAAM,GAAN,UAAO,kBAAuB;QAA9B,iBAKC;QAJG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAS,IAAI,CAAC,GAAG,SAAI,kBAAoB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CAC/F,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAChC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAE,CAAC;IACvC,CAAC;IACD,0CAAa,GAAb,UAAc,kBAAuB;QAArC,iBAKC;QAJG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAS,IAAI,CAAC,GAAG,SAAI,kBAAkB,UAAO,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CACpG,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAChC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAE,CAAC;IACvC,CAAC;;gBAxBI,+DAAU;gBADV,0EAAqB;;IAOjB,kBAAkB;QAD9B,gEAAU,EAAE;uFAIoB,+DAAU,EAAoB,0EAAqB;OAHvE,kBAAkB,CAmB9B;IAAD,yBAAC;CAAA,CAnBuC,iDAAW,GAmBlD;AAnB8B;;;;;;;;;;;;ACT/B,s3C;;;;;;;;;;;ACAA,kYAAkY,8BAA8B,OAAO,wGAAwG,8oBAA8oB,cAAc,wwBAAwwB,4/JAA4/J,8FAA8F,yFAAyF,MAAM,sjCAAsjC,gCAAgC,qQAAqQ,wCAAwC,mOAAmO,iBAAiB,iOAAiO,mBAAmB,2CAA2C,kBAAkB,g8BAAg8B,qCAAqC,+GAA+G,oCAAoC,2EAA2E,iBAAiB,2OAA2O,mBAAmB,4wHAA4wH,aAAa,iMAAiM,eAAe,u1B;;;;;;;;;;;;;;;;;;;;;;ACC95c;AACN;AAEkB;AACX;AACuB;;IAMvC,8EAAW;IAGzC,sBAAsB,IAAgB,EAAY,MAA6B;QAA/E,YACI,kBAAM,IAAI,EAAE,MAAM,CAAC,SACtB;QAFqB,UAAI,GAAJ,IAAI,CAAY;QAAY,YAAM,GAAN,MAAM,CAAuB;QAFvE,SAAG,GAAG,KAAI,CAAC,WAAW,GAAG,YAAY,CAAC;;IAI9C,CAAC;IAED,6BAAM,GAAN,UAAO,WAAoB,EAAE,gBAA0B,EAAE,KAAW;QAApE,iBAaC;QAZG,IAAI,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;QACnD,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3D,IAAI,gBAAgB,IAAI,SAAS,EAAE;YAC/B,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC;SACxE;QACD,IAAI,KAAK,CAAC,kBAAkB;YAAE,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,oBAAoB,EAAE,KAAK,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,CAAC;QAG7G,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAoB,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,CACjG,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,EAC5B,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,0BAAG,GAAH,UAAI,EAAU;QAAd,iBAKC;QAJG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAQ,IAAI,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CAC1E,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAChC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACrC,CAAC;IAED,2BAAI,GAAJ,UAAK,KAAU;QAAf,iBAQC;QAPG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACpC,IAAM,MAAM,GAAoB,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,CAAC;YACpD,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;YAC/E,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAC1E,OAAO,MAAM,CAAC,IAAI,CAAC,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAC/C,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IACtC,CAAC;IAED,6BAAM,GAAN,UAAO,EAAU;QAAjB,iBAKC;QAJG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CACtE,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAChC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IACtC,CAAC;IAED,mCAAY,GAAZ,UAAa,OAAe,EAAE,KAAW;QAAzC,iBAMC;QALG,IAAM,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAoB,IAAI,CAAC,GAAG,IAAM,OAAO,cAAW,GAAE,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,CACzH,0DAAG,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAtB,CAAsB,CAAC,EAChC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IACtC,CAAC;;gBA3DI,+DAAU;gBADV,0EAAqB;;IAQjB,YAAY;QADxB,gEAAU,EAAE;uFAImB,+DAAU,EAAoB,0EAAqB;OAHtE,YAAY,CAqDxB;IAAD,mBAAC;CAAA,CArDiC,iDAAW,GAqD5C;AArDwB;;;;;;;;;;;;;;;;;;;;;;;;ACZsD;AACA;AAC9B;AAEjD;IAcI,iBAAY,YAAqB,EAAE,QAAqB,EAAE,IAAiB;QAAxC,wCAAqB;QAAE,gCAAiB;QAb3E,OAAE,GAAW,CAAC,CAAC;QAcX,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC;IAC9C,CAAC;IACL,cAAC;AAAD,CAAC;;;IA+BG,iCAAoB,EAAe;QAAf,OAAE,GAAF,EAAE,CAAa;QAtBzB,wBAAmB,GAAG,IAAI,0DAAY,EAAE,CAAC;QACzC,YAAO,GAAG,IAAI,0DAAY,EAAE,CAAC;IAqBA,CAAC;IAnBxC,sBAAY,0CAAK;aAAjB;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;YAC5G,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC,KAAK,CAAC;QAClF,CAAC;;;OAAA;IAED,sBAAW,iDAAY;aAAvB;YACI,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,KAAgB,CAAC;QACjF,CAAC;aAED,UACwB,KAAc;YAClC,IAAI,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACnE,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxB,oBAAoB;YACpB,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;QACpC,CAAC;;;OARA;IAcD,0CAAQ,GAAR;QACI,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,sDAAoB,GAApB;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,wCAAM,GAAN,UAAO,MAAa;QAChB,MAAM,CAAC,cAAc,EAAE,CAAC;QACxB,MAAM,CAAC,eAAe,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IAEO,2CAAS,GAAjB;QACI,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxI,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAChI,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QACtJ,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5I,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5I,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,4DAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1I,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,uBAAuB,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACjJ,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IACnE,CAAC;;gBAhFI,0DAAW;;;2BA6Bf,mDAAK;qCACL,mDAAK,SAAC,OAAO;sCACb,oDAAM;0BACN,oDAAM;+BAWN,mDAAK;0BAQL,mDAAK;;IAvBG,uBAAuB;QAJnC,+DAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;YAC/B,+FAAmD;SACtD,CAAC;uFA0B0B,0DAAW;OAzB1B,uBAAuB,CAqDnC;IAAD,8BAAC;CAAA;AArDmC","file":"default~abonnement-abonnement-module~klant-klant-module~markt-markt-module~wachtlijst-wachtlijst-module.js","sourcesContent":["import { Component, Input, Output, OnInit, OnChanges, SimpleChanges, EventEmitter } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, FormControl, Validators, ValidatorFn } from \"@angular/forms\";\r\n\r\n@Component({\r\n    selector: \"mafo-address\",\r\n    templateUrl: \"html/app.address.layout.html\"\r\n})\r\nexport class AddressComponent implements OnInit, OnChanges {\r\n    @Input(\"group\") addressForm: FormGroup;\r\n    @Input() disable: boolean = false;\r\n    @Input() required: boolean = false;\r\n    @Output() change = new EventEmitter();\r\n\r\n    private _address: Adres;\r\n    @Input()\r\n    set address(address: Adres) {\r\n        this._address = address;\r\n    }\r\n    get address() {\r\n        return this._address || new Adres();\r\n    }\r\n\r\n    constructor(private fb: FormBuilder) { }\r\n\r\n    ngOnInit(): void {\r\n        this.buildForm();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        //Dynamic add or remove validation by Input parameter\r\n        if (changes[\"disable\"] !== undefined && this.addressForm !== undefined) {\r\n            let disabled = changes[\"disable\"].currentValue;\r\n            if (disabled) {\r\n                this.addressForm.disable();\r\n            } else {\r\n                this.addressForm.enable();\r\n            }\r\n        }\r\n        var address = changes[\"address\"];\r\n        if (address && this.addressForm && Object.keys(this.addressForm.controls).length > 0) {\r\n            this.addressForm.setValue(this._address);\r\n        }\r\n    }\r\n\r\n    private buildForm = (): void => {\r\n        const validators: ValidatorFn[] = [];\r\n        if (this.required) validators.push(Validators.required);\r\n\r\n        this.addressForm.addControl(\"id\", this.fb.control(this.address.id));\r\n        this.addressForm.addControl(\"straat\", this.fb.control(this.address.straat, validators));\r\n        this.addressForm.addControl(\"nr\", this.fb.control(this.address.nr, validators));\r\n        this.addressForm.addControl(\"postcode\", this.fb.control(this.address.postcode, validators));\r\n        this.addressForm.addControl(\"gemeente\", this.fb.control(this.address.gemeente, validators));\r\n        this.addressForm.addControl(\"isMaatschappelijkeZetel\", this.fb.control(this.address.isMaatschappelijkeZetel, validators));\r\n        this.addressForm.addControl(\"isFacturatieAdres\", this.fb.control(this.address.isFacturatieAdres, validators));\r\n\r\n        if (this.disable) {\r\n            this.addressForm.disable();\r\n        }\r\n    }\r\n}\r\n\r\nexport class Adres {\r\n    id?: number = 0;\r\n    straat: string = \"\";\r\n    nr: string = \"\";\r\n    postcode: string = \"\";\r\n    gemeente: string = \"\";\r\n    isMaatschappelijkeZetel: boolean = false;\r\n    isFacturatieAdres: boolean = false;\r\n\r\n    constructor(id = 0, straat = \"\", nr = \"\", postcode = \"\", gemeente = \"\", isMaatschappelijkeZetel = false, isFacturatieAdres = false) {\r\n        this.id = id;\r\n        this.straat = straat;\r\n        this.nr = nr;\r\n        this.postcode = postcode;\r\n        this.gemeente = gemeente;\r\n        this.isMaatschappelijkeZetel = isMaatschappelijkeZetel;\r\n        this.isFacturatieAdres = isFacturatieAdres;\r\n    }\r\n}","import { Component, forwardRef, Input, Output, EventEmitter, Optional, Inject } from \"@angular/core\";\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, NG_VALIDATORS } from \"@angular/forms\";\r\nimport { OndernemingService } from \"./onderneming.service\";\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n    selector: \"onderneming-select\",\r\n    providers: [\r\n        { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => OndernemingSelectComponent), multi: true }\r\n    ],\r\n    template: `<search [(ngModel)]=\"value\"(keypress)=\"validateOndernemingsnr(value)\" (search)=\"searchOndernemingsnummer($event)\"></search>`\r\n})\r\nexport class OndernemingSelectComponent implements ControlValueAccessor {\r\n    private _value: string = \"\";\r\n    private propagateChange = (_: any) => { };\r\n\r\n    @Output() onResult = new EventEmitter<any>();\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(val) {\r\n        this._value = val;\r\n        this.propagateChange(this._value);\r\n    };\r\n\r\n    constructor(private ondernemingSvc: OndernemingService, private toastr: ToastrService) {\r\n\r\n    }\r\n\r\n    private validateOndernemingsnr(value) {\r\n        if (value.length > 9) {\r\n            return false;\r\n        }\r\n    }\r\n    private searchOndernemingsnummer($event) {\r\n        if (!$event || $event.value.length < 9) {\r\n            this.toastr.warning(\"Ondernemingsnummer is te kort.\", \"Ongeldig ondernemingsnummer\");\r\n        }\r\n        else {\r\n            this.ondernemingSvc.search($event.value).subscribe(x => {\r\n                this.onResult.emit(x);\r\n            }, error => {\r\n                this.toastr.error(\"Onderneming niet gevonden in het systeem.\", \"Onderneming niet gevonden\");\r\n                    if (error.ExtraInfo) {\r\n                        for (let xtra in error.ExtraInfo) {\r\n                            this.toastr.warning(error.ExtraInfo[xtra].join(\",\"), xtra);\r\n                        }\r\n                    }\r\n\r\n                this.onResult.emit(null);\r\n            });\r\n        }\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        this.value = value || \"\";\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn): void { }\r\n\r\n    validate() {\r\n        console.log(\"test\");\r\n    }\r\n}","module.exports = \"<div [formGroup]=\\\"contactPersoonForm\\\">\\r\\n    <mafo-panel [selector]=\\\"selector\\\" [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n        <mafo-panel-heading>\\r\\n            <h6>\\r\\n                <i class=\\\"fa fa-remove fa-lg text-danger\\\" (click)=\\\"remove($event)\\\" *ngIf=\\\"!hoofdContact\\\"></i>\\r\\n                &nbsp;&nbsp;\\r\\n                {{title}}\\r\\n            </h6>\\r\\n        </mafo-panel-heading>\\r\\n        <mafo-panel-actions>\\r\\n            <div class=\\\"checkbox\\\">\\r\\n                <label>\\r\\n                    <input type=\\\"checkbox\\\" formControlName=\\\"isHoofdcontactPersoon\\\" (change)=\\\"hoofdcontactSelected()\\\" />\\r\\n                    <b>Hoofdcontact</b>\\r\\n                </label>\\r\\n            </div>\\r\\n        </mafo-panel-actions>\\r\\n        <mafo-panel-body>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"Voornaam\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"voornaam\\\" />\\r\\n                        <help-block type=\\\"required\\\">Voornaam is verplicht</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 50 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"Naam\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"naam\\\" />\\r\\n                        <help-block type=\\\"required\\\">Naam is verplicht</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 50 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n            </div>\\r\\n            <mafo-address [address]=\\\"persoon.adres\\\" [group]=\\\"contactPersoonForm.controls.adres\\\" [required]=\\\"false\\\"></mafo-address>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"Telefoon\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"telefoon\\\" />\\r\\n                        <help-block type=\\\"pattern\\\">Geen geldig telefoon nummer</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 30 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"Gsm\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"gsm\\\" />\\r\\n                        <help-block type=\\\"pattern\\\">Geen geldig gsm nummer</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 30 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"Fax\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"fax\\\" />\\r\\n                        <help-block type=\\\"pattern\\\">Geen geldig fax nummer</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 30 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n                <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                    <form-group label=\\\"E-mail\\\">\\r\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"email\\\" />\\r\\n                        <help-block type=\\\"validEmail\\\">Geen geldig e-mail</help-block>\\r\\n                        <help-block type=\\\"maxLength\\\">Maximaal 50 characters</help-block>\\r\\n                    </form-group>\\r\\n                </div>\\r\\n            </div>\\r\\n        </mafo-panel-body>\\r\\n    </mafo-panel>\\r\\n</div>\"","import { NgModule, CUSTOM_ELEMENTS_SCHEMA, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\n\r\n\r\nimport { AddressComponent } from \"./app.address\";\r\nimport { ContactPersoonComponent } from \"./contactpersoon.component\";\r\nimport { KlantDetailCoreComponent } from \"./klant-detail.component\";\r\nimport { OndernemingSelectComponent } from \"./onderneming-select.component\";\r\nimport { OndernemingService } from \"./onderneming.service\";\r\nimport { KlantService } from \"./klant.service\";\r\n\r\nimport { ValidatorsModule } from \"../validators\";\r\nimport { DocumentUploadModule } from \"../document-upload\";\r\nimport { BootstrapModule } from \"../bootstrap\";\r\nimport { SharedModule } from \"../../shared\";\r\nimport { SearchModule } from \"../search\";\r\nimport { CodeSelectModule } from \"../code-select\";\r\n\r\nconst components = [\r\n    OndernemingSelectComponent, AddressComponent, ContactPersoonComponent, KlantDetailCoreComponent\r\n];\r\n\r\nconst modules = [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    CodeSelectModule,\r\n    SearchModule,\r\n    ValidatorsModule,\r\n    DocumentUploadModule,\r\n    BootstrapModule,\r\n    SharedModule\r\n];\r\n\r\n@NgModule({\r\n    declarations: components,\r\n    imports: [...modules],\r\n    providers: [KlantService, OndernemingService],\r\n    exports: [...components, ...modules],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class KlantCoreModule {\r\n}\r\nexport * from \"./app.address\";\r\nexport * from \"./contactpersoon.component\";\r\nexport * from \"./klant-detail.component\";\r\nexport * from \"./klant.service\";\r\nexport * from \"./onderneming.service\";\r\nexport * from \"./onderneming-select.component\";\r\n","import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { Observable, BehaviorSubject } from \"rxjs\";\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { KlantService, IKlant } from \"./klant.service\";\r\nimport { OndernemingService } from \"./onderneming.service\";\r\nimport { AbonnementService } from \"../../services\";\r\nimport { CustomValidators, ValidatorService } from \"../validators\";\r\nimport { IGridOptions, SortOrder } from \"../datagrid\";\r\nimport { ApplicationConstants, IPagedResult, IQueryParameters } from \"../../core\";\r\nimport { AuthService, Privilege } from \"../../auth\";\r\nimport { Persoon } from \"./contactpersoon.component\";\r\nimport { Adres } from \"./app.address\";\r\nimport { IMessageEnrichedModel } from \"../../services/MessageEnrichedModel\";\r\n\r\n\r\n@Component({\r\n    selector: \"klant-detail\",\r\n    templateUrl: \"./html/klant-detail.component.html\"\r\n})\r\nexport class KlantDetailCoreComponent implements OnInit {\r\n    @Input() selectType: boolean = false;\r\n    @Input() limitedView: boolean = false;\r\n    private _klant = new BehaviorSubject<IKlant>(null);\r\n\r\n    @Input()\r\n    set klant(value: IKlant) {\r\n        if (value.contactPersonen && value.contactPersonen.length === 0)\r\n            value.contactPersonen = [new Persoon(true)];\r\n        const local = Object.assign({\r\n            id: 0,\r\n            isCommercieel: true,\r\n            firmanaam: \"\",\r\n            juridischeEntiteit: \"\",\r\n            ondernemingsnr: \"\",\r\n            telefoon: \"\",\r\n            gsm: \"\",\r\n            email: \"\",\r\n            fax: \"\",\r\n            contactPersonen: [new Persoon(true)],\r\n            maatschappelijkeZetel: new Adres(),\r\n            facturatieAdres: new Adres(),\r\n            kboStatus: \"\"\r\n        }, value);\r\n        if (this.klant !== local)\r\n            this._klant.next(local);\r\n    };\r\n\r\n    get klant(): IKlant {\r\n        return this._klant.getValue();\r\n    }\r\n\r\n    @Output() onCreated = new EventEmitter<IKlant>();\r\n\r\n    private klantForm: FormGroup;\r\n    private updateKlant: Observable<boolean>;\r\n    private naamChanged: boolean;\r\n    private telChanged: boolean;\r\n    private gsmChanged: boolean;\r\n    private faxChanged: boolean;\r\n    private juridischChanged: boolean;\r\n    private hasJuridischeEntiteitError: boolean = false;\r\n    private emailChanged: boolean;\r\n    private kboChanged: boolean;\r\n    private klantUpdating: boolean;\r\n    private klantUpdateAfgerond: boolean;\r\n    private errorMessage: any;\r\n\r\n    private get title(): string {\r\n        let title = this.klantForm.get(\"firmanaam\").value;\r\n        return title.replace(/\\s/g, \"\").length <= 0 ? \"Nieuwe klant\" : \"Klant: \" + title;\r\n    }\r\n\r\n    private facturatieAdresDisabled: boolean = false;\r\n\r\n    constructor(private route: ActivatedRoute,\r\n        private router: Router,\r\n        private toastr: ToastrService,\r\n        private fb: FormBuilder,\r\n        private klantSvc: KlantService,\r\n        private ondernemingSvc: OndernemingService,\r\n        private abonnementService: AbonnementService,\r\n        private auth: AuthService,\r\n        private validationService: ValidatorService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.security();\r\n        this.buildForm();\r\n        this._klant.subscribe(x => {\r\n            if (this.klant) this.setKlant();\r\n        });\r\n        this.klantUpdating = false;\r\n    }\r\n    private checkChanges() {\r\n        if (this.klantForm.controls['firmanaam'].value != this.klant.firmanaam) {\r\n            this.naamChanged = true;\r\n        } else { this.telChanged = false; }\r\n\r\n        if (this.klantForm.controls['telefoon'].value != this.klant.telefoon) {\r\n            this.telChanged = true;\r\n        } else { this.telChanged = false; }\r\n\r\n        if (this.klantForm.controls['gsm'].value != this.klant.gsm) {\r\n            this.gsmChanged = true;\r\n        } else { this.gsmChanged = false; }\r\n\r\n        if (this.klantForm.controls['fax'].value != this.klant.fax) {\r\n            this.faxChanged = true;\r\n        } else { this.faxChanged = false; }\r\n\r\n        if (this.klantForm.controls['juridischeEntiteit'].value != this.klant.juridischeEntiteit) {\r\n            this.juridischChanged = true;\r\n        } else { this.juridischChanged = false; }\r\n\r\n        if (this.klantForm.controls['email'].value != this.klant.email) {\r\n            this.emailChanged = true;\r\n        } else { this.emailChanged = false; }\r\n\r\n        if (this.klantForm.controls['kboStatus'].value != this.klant.kboStatus) {\r\n            this.kboChanged = true;\r\n        } else { this.kboChanged = false; }\r\n\r\n\r\n    }\r\n    private setKlant() {\r\n        this.klantForm.markAsPristine();\r\n        if (this.klantForm.controls['firmanaam'].value != \"\") {\r\n            this.checkChanges();\r\n        }\r\n\r\n        this.klantForm.reset(this.klant);\r\n        this.contactPersonen.controls.splice(0, this.contactPersonen.controls.length);\r\n        for (const persoon of this.klant.contactPersonen) {\r\n            this.contactPersonen.push(this.fb.group({}));\r\n        }\r\n\r\n        //if (this.klant.id <= 0) {\r\n        //    const adres = new Adres();\r\n        //    this.klant.maatschappelijkeZetel = adres;\r\n        //}\r\n        this.facturatieAdresDisabled = this.klant.id <= 0 ? true : JSON.stringify(this.klant.maatschappelijkeZetel) === JSON.stringify(this.klant.facturatieAdres);\r\n\r\n    }\r\n\r\n    searchOndernemingsnummer(messageEnrichedOndernmingOndernmening: IMessageEnrichedModel<any>): void {\r\n        if (messageEnrichedOndernmingOndernmening) {\r\n            this.hasJuridischeEntiteitError = false;\r\n\r\n            if (\"Juridische Entiteit\" in messageEnrichedOndernmingOndernmening.messages) {\r\n                this.errorMessage = messageEnrichedOndernmingOndernmening.messages[\"Juridische Entiteit\"];\r\n                this.hasJuridischeEntiteitError = true;\r\n            }\r\n\r\n            this.klant = messageEnrichedOndernmingOndernmening.data;\r\n        }\r\n        if (this.klant) this.setKlant();\r\n\r\n    }\r\n\r\n    //Openstaande aanvragen\r\n\r\n    openstaandeAanvragenData: IPagedResult<any>;\r\n\r\n    openstaandeAanvragenOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [{\r\n            field: \"datum\",\r\n            title: \"Datum\",\r\n            sortable: true,\r\n            sort: SortOrder.Ascending\r\n        }, {\r\n            field: \"status\",\r\n            title: \"Status\"\r\n        }, {\r\n            field: \"positie\",\r\n            title: \"Positie\"\r\n        }, {\r\n            field: \"soort\",\r\n            title: \"Soort\"\r\n        }, {\r\n            field: \"markt.naam\",\r\n            title: \"Markt\"\r\n        }, {\r\n            field: \"district\",\r\n            title: \"District\"\r\n        }, {\r\n            field: \"aantalKavels\",\r\n            title: \"Kavels\"\r\n        }, {\r\n            field: \"opmerkingen\",\r\n            title: \"Opmerkingen\"\r\n        }]\r\n    };\r\n\r\n    fetchOpenstaandeAanvragen(page: IQueryParameters): void {\r\n        this.klantSvc.getAanvragen(this.klant.id, page).subscribe(succes => {\r\n            this.openstaandeAanvragenData = succes;\r\n        }, x => {\r\n            this.toastr.error(\"Kon de openstaande aanvragen voor deze klant niet inladen\", \"Openstaande aanvragen\");\r\n            if (x.ExtraInfo) {\r\n                for (let xtra in x.ExtraInfo) {\r\n                    this.toastr.warning(xtra, x.ExtraInfo[xtra].join(\",\"));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    openstaandeAanvragenRowClicked(row: any) {\r\n        switch (row.data.status) {\r\n            case ApplicationConstants.AanvraagStatus.Intake:\r\n                this.router.navigate([\"wachtlijst\", \"intake\", row.data.id]);\r\n                break;\r\n            case ApplicationConstants.AanvraagStatus.Gepreregistreerd:\r\n                this.router.navigate([\"wachtlijst\", \"preregistratie\", row.data.id]);\r\n                break;\r\n            case ApplicationConstants.AanvraagStatus.Geregistreerd:\r\n                this.router.navigate([\"wachtlijst\", \"registratie\", row.data.id]);\r\n                break;\r\n            case ApplicationConstants.AanvraagStatus.Gereserveerd:\r\n                this.router.navigate([\"wachtlijst\", \"reservatie\", row.data.id]);\r\n                break;\r\n            default: ;\r\n        }\r\n    }\r\n\r\n    //Abonnementen\r\n\r\n    abonnementenData: IPagedResult<any>;\r\n\r\n    abonnementenOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [{\r\n            field: \"begindatum\",\r\n            title: \"Begin\",\r\n            sortable: true,\r\n            sort: SortOrder.Ascending\r\n        }, {\r\n            field: \"einddatum\",\r\n            title: \"Einde\"\r\n        }, {\r\n            field: \"markt.naam\",\r\n            title: \"Markt\"\r\n        }, {\r\n            field: \"markt.districtCode\",\r\n            title: \"District\"\r\n        }, {\r\n            field: \"aantalKavels\",\r\n            title: \"# Kavels\"\r\n        }, {\r\n            field: \"statusCode\",\r\n            title: \"Status\"\r\n        }, {\r\n            field: \"uitstallingCode\",\r\n            title: \"Uitstalling\"\r\n        }, {\r\n            field: \"verkoopCode\",\r\n            title: \"Verkoop\"\r\n        }, {\r\n            field: \"elektriciteitCode\",\r\n            title: \"Elektriciteit\"\r\n        }]\r\n    };\r\n\r\n    fetchAbonnementen(page: IQueryParameters): void {\r\n        this.abonnementService.getAll(page, { klantId: this.klant.id }).subscribe(x => {\r\n            this.abonnementenData = x;\r\n        }, error => {\r\n            this.toastr.error(\"Kon de lopende abonnementen voor deze klant niet inladen\", \"Lopende abonnementen\");\r\n        });\r\n    }\r\n\r\n    abonnementenRowClicked(row: any) {\r\n        this.router.navigate([\"abonnement\", row.data.id]);\r\n    }\r\n\r\n    //Contactpersonen\r\n\r\n    get contactPersonen(): FormArray {\r\n        return <FormArray>this.klantForm.get(\"contactPersonen\");\r\n    }\r\n\r\n    hoofdContactChanged(index: number): void {\r\n        this.contactPersonen.controls.forEach((fg: FormGroup, idx: number) => {\r\n            if (idx === index) return;\r\n            fg.get(\"isHoofdcontactPersoon\").reset({ value: false, disabled: false });\r\n        });\r\n    }\r\n\r\n    removeContactpersoon(index: number): void {\r\n        this.contactPersonen.removeAt(index);\r\n    }\r\n\r\n    addContact(): void {\r\n        const control = <FormArray>this.klantForm.controls[\"contactPersonen\"];\r\n        control.push(this.fb.group({}));\r\n    };\r\n\r\n    updateKlantFromKBO(): void {\r\n        this.klantUpdating = true;\r\n        this.hasJuridischeEntiteitError = false;\r\n\r\n        if (this.klant.ondernemingsnr.length < 10) {\r\n            this.toastr.warning(\"Ondernemingsnummer is te kort.\", \"Ongeldig ondernemingsnummer\");\r\n        } else {\r\n            this.ondernemingSvc.updateFromKBO(this.klant.ondernemingsnr).subscribe(x => {\r\n                this.klant = x.data;\r\n                this.toastr.success(\"Gegevens van de klant zijn opgehaald uit KBO en geupdate\", \"Update onderneming\");\r\n                this.klantUpdating = false;\r\n                this.klantUpdateAfgerond = true;\r\n\r\n                if (\"Juridische Entiteit\" in x.messages) {\r\n                    this.errorMessage = x.messages[\"Juridische Entiteit\"];\r\n                    this.hasJuridischeEntiteitError = true;\r\n                }\r\n\r\n                // if (this.klant) this.setKlant();\r\n            }, error => {\r\n                this.toastr.warning(\"Onderneming niet gevonden in het systeem.\", \"Onderneming niet gevonden\");\r\n                //this.onResult.emit(null);\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    //Form\r\n\r\n    copyAddressToFacturation = () => {\r\n        if (this.facturatieAdresDisabled) {\r\n            this.klantForm.get(\"facturatieAdres\").patchValue(this.klantForm.get(\"maatschappelijkeZetel\").value);\r\n        }\r\n    }\r\n\r\n    disableFacturatieAdres() {\r\n        this.facturatieAdresDisabled = !this.facturatieAdresDisabled;\r\n        this.copyAddressToFacturation();\r\n    }\r\n\r\n    private buildForm(): void {\r\n        this.klantForm = this.fb.group({\r\n            'id': [0],\r\n            'isCommercieel': [true],\r\n            'ondernemingsnr': [\"\", this.buildOndernemingsNrValidation()],\r\n            'firmanaam': [\"\", [Validators.required, Validators.maxLength(100)]],\r\n            'juridischeEntiteit': [\"\", [Validators.required]],\r\n            'telefoon': [\"\", [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]],\r\n            'fax': [\"\", [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]],\r\n            'gsm': [\"\", [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]],\r\n            'email': [\"\", [Validators.maxLength(50), CustomValidators.validEmail]],\r\n            'kboStatus': [\"\", [Validators.maxLength(50)]],\r\n            'maatschappelijkeZetel': this.fb.group({}),\r\n            'facturatieAdres': this.fb.group({}),\r\n            'contactPersonen': this.fb.array([])\r\n        });\r\n    }\r\n\r\n    onSubmit(): void {\r\n        if (!this.klantForm.valid) {\r\n            this.validationService.valideFormGroup(this.klantForm);\r\n            this.toastr.warning(\"Sommige velden bevatten geen geldige waarden\", \"Ongeldig formulier\");\r\n        }\r\n        else {\r\n            this.klantSvc.save(this.klantForm.value).subscribe((response: any) => {\r\n                this.klant = response;\r\n                //this.klantForm.patchValue(this.klant);\r\n                if (this.onCreated.observers.length > 0) {\r\n                    this.onCreated.emit(this.klant);\r\n                }\r\n                this.toastr.success(\"Klant succesvol bewaard\", \"Klant bewaren\");\r\n            }, (x) => {\r\n                this.toastr.error(\"Klant kon niet worden bewaard.\", \"Klant bewaren\");\r\n                if (x.ExtraInfo) {\r\n                    for (let xtra in x.ExtraInfo) {\r\n                        this.toastr.warning(x.ExtraInfo[xtra].join(\",\"), xtra);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    //Validation\r\n\r\n    private buildOndernemingsNrValidation(): any[] {\r\n        const validators = [Validators.pattern(\"^[0]\\\\d{9}$\")];\r\n        return this.klant && this.klant.isCommercieel ? [...validators, Validators.required] : validators;\r\n    }\r\n\r\n    security(): void {\r\n        this.updateKlant = this.auth.hasPermission(Privilege.Klant.Update);\r\n    }\r\n}","import {catchError, tap} from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from 'rxjs';\r\nimport { BaseService } from \"../../core\";\r\nimport { IMessageEnrichedModel } from '../../services/MessageEnrichedModel';\r\n\r\n@Injectable()\r\nexport class OndernemingService extends BaseService {\r\n    private url = this.apiEndpoint + 'companies';\r\n\r\n    constructor(protected _http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(_http, loader);\r\n    }\r\n\r\n    search(ondernemingsnummer: any): Observable<IMessageEnrichedModel<any>> {\r\n        this.loader.start();\r\n        return this._http.get<any>(`${this.url}/${ondernemingsnummer}`, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);\r\n    }\r\n    updateFromKBO(ondernemingsnummer: any): Observable<IMessageEnrichedModel<any>> {\r\n        this.loader.start();\r\n        return this._http.get<any>(`${this.url}/${ondernemingsnummer}/kbos`, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);\r\n    }\r\n}","module.exports = \"<div [formGroup]=\\\"addressForm\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12 col-md-10\\\">\\r\\n            <form-group label=\\\"Straat\\\">\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"straat\\\" />\\r\\n                <help-block type=\\\"required\\\">Straat is verplicht</help-block>\\r\\n            </form-group>\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-12 col-md-2\\\">\\r\\n            <form-group label=\\\"Nr\\\">\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"nr\\\" />\\r\\n                <help-block type=\\\"required\\\">Nr is verplicht</help-block>\\r\\n            </form-group>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12 col-md-2\\\">\\r\\n            <form-group label=\\\"Postcode\\\">\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"postcode\\\" />\\r\\n                <help-block type=\\\"required\\\">Postcode is verplicht</help-block>\\r\\n            </form-group>\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-12 col-md-10\\\">\\r\\n            <form-group label=\\\"Gemeente\\\">\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"gemeente\\\" />\\r\\n                <help-block type=\\\"required\\\">Gemeente is verplicht</help-block>\\r\\n            </form-group>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<form [formGroup]=\\\"klantForm\\\" (ngSubmit)=\\\"onSubmit(klantForm)\\\" ngNoForm autocomplete=\\\"off\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h3>\\r\\n                        <span class=\\\"fa fa-user\\\"></span>&nbsp;\\r\\n                        {{title}}\\r\\n                        <br />\\r\\n                        <span class=\\\"badge\\\" style=\\\"margin: 2px; background-color: red\\\" *ngIf=\\\"klant.isGesanctioneerd\\\">GESANCTIONEERD</span>\\r\\n                    </h3>\\r\\n\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-actions>\\r\\n                    <label>Commercieel</label>\\r\\n                    <dp-slider formControlName=\\\"isCommercieel\\\"></dp-slider>\\r\\n                </mafo-panel-actions>\\r\\n                <mafo-panel-body>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <div *ngIf=\\\"hasJuridischeEntiteitError\\\" class=\\\"alert alert-danger\\\" role=\\\"alert\\\">\\r\\n                                {{errorMessage}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\" *ngIf=\\\"selectType\\\" [hidden]=\\\"limitedView\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"control-label\\\">Type</label>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <label>\\r\\n                                        <input type=\\\"radio\\\" name=\\\"isCommercieel\\\" formControlName=\\\"isCommercieel\\\" [value]=\\\"true\\\" />\\r\\n                                        Commercieel\\r\\n                                    </label>\\r\\n                                    &nbsp;\\r\\n                                    <label>\\r\\n                                        <input type=\\\"radio\\\" name=\\\"isCommercieel\\\" formControlName=\\\"isCommercieel\\\" [value]=\\\"false\\\" />\\r\\n                                        Niet-commercieel\\r\\n                                    </label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12 col-md-4\\\">\\r\\n                            <form-group label=\\\"Ondernemingsnummer\\\">\\r\\n                                <onderneming-select formControlName=\\\"ondernemingsnr\\\" (onResult)=\\\"searchOndernemingsnummer($event)\\\"></onderneming-select>\\r\\n                                <help-block type=\\\"required\\\">Ondernemingsnummer is verplicht</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-12 col-md-4\\\">\\r\\n                            <form-group label=\\\"Naam onderneming\\\">\\r\\n                                <input class=\\\"form-control\\\" [ngClass]=\\\"naamChanged?'klant-changed':''\\\" type=\\\"text\\\" formControlName=\\\"firmanaam\\\" />\\r\\n                                <help-block type=\\\"required\\\">Naam onderneming is verplicht</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-12 col-md-4\\\">\\r\\n                            <form-group label=\\\"Juridische entiteit\\\">\\r\\n                                <code-select type=\\\"Juridischeentiteit\\\" formControlName=\\\"juridischeEntiteit\\\" [ngClass]=\\\"juridischChanged?'klant-changed':''\\\"></code-select>\\r\\n                                <help-block type=\\\"required\\\">Juridische entiteit is verplicht</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <hr />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <form-group label=\\\"Telefoon\\\">\\r\\n                                <input id=\\\"telefoon\\\" class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"telefoon\\\" [ngClass]=\\\"telChanged?'klant-changed':''\\\" />\\r\\n                                <help-block type=\\\"required\\\">Telefoon is verplicht</help-block>\\r\\n                                <help-block type=\\\"pattern\\\">Geen geldig formaat</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <form-group label=\\\"Fax\\\">\\r\\n                                <input id=\\\"fax\\\" class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"fax\\\" [ngClass]=\\\"faxChanged?'klant-changed':''\\\" />\\r\\n                                <help-block type=\\\"required\\\">Fax is verplicht</help-block>\\r\\n                                <help-block type=\\\"pattern\\\">Geen geldig formaat</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <form-group label=\\\"GSM\\\">\\r\\n                                <input id=\\\"gsm\\\" class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"gsm\\\" [ngClass]=\\\"gsmChanged?'klant-changed':''\\\" />\\r\\n                                <help-block type=\\\"required\\\">GSM is verplicht</help-block>\\r\\n                                <help-block type=\\\"pattern\\\">Geen geldig formaat</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <form-group label=\\\"E-mail\\\">\\r\\n                                <input id=\\\"email\\\" class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"email\\\" [ngClass]=\\\"emailChanged?'klant-changed':''\\\" />\\r\\n                                <help-block type=\\\"required\\\">E-mail is verplicht</help-block>\\r\\n                                <help-block type=\\\"validEmail\\\">Geen geldig e-mail</help-block>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <form-group label=\\\"KBO Status\\\">\\r\\n                                <input id=\\\"kboStatus\\\" class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"kboStatus\\\" [ngClass]=\\\"kboChanged?'klant-changed':''\\\" readonly />\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                            <div class=\\\"pull-right\\\">\\r\\n                                <a class=\\\"btn btn-info\\\" (click)=\\\"updateKlantFromKBO()\\\">\\r\\n                                    <i class=\\\"fa \\\" [ngClass]=\\\"{ 'fa-spin': klantUpdating,'fa-refresh': !klantUpdateAfgerond, 'fa-check':klantUpdateAfgerond }\\\"></i>\\r\\n                                    <span class=\\\"hidden-sm hidden-xs\\\">&nbsp;&nbsp;Klant updaten</span>\\r\\n                                </a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"klant && klant.id\\\" [hidden]=\\\"limitedView\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"lopendeaanvragen\\\" [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        Lopende aanvragen\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-body>\\r\\n                    <dp-datagrid [data]=\\\"openstaandeAanvragenData\\\" [options]=\\\"openstaandeAanvragenOptions\\\" (fetchData)=\\\"fetchOpenstaandeAanvragen($event)\\\" (rowClicked)=\\\"openstaandeAanvragenRowClicked($event)\\\">\\r\\n                        <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"i\\\">\\r\\n                            <td>\\r\\n                                {{item.datum | date:'dd/MM/yyyy'}}\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"Aanvraagstatus\\\" [value]=\\\"item.status\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>{{item.positie >= 0 ? item.positie : '/'}}</td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"Aanvraagsoort\\\" [value]=\\\"item.soort\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>{{item.markt.naam}}</td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"District\\\" [value]=\\\"item.district\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>{{item.aantalKavels}}</td>\\r\\n                            <td>{{item.opmerkingen}}</td>\\r\\n                        </ng-template>\\r\\n                    </dp-datagrid>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"klant && klant.id\\\" [hidden]=\\\"limitedView\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"abonnementen\\\" [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        Abonnementen\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-body>\\r\\n                    <dp-datagrid [data]=\\\"abonnementenData\\\" [options]=\\\"abonnementenOptions\\\" (fetchData)=\\\"fetchAbonnementen($event)\\\" (rowClicked)=\\\"abonnementenRowClicked($event)\\\">\\r\\n                        <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"i\\\">\\r\\n                            <td>\\r\\n                                {{item.begindatum | date:'dd/MM/yyyy'}}\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                {{item.einddatum | date:'dd/MM/yyyy'}}\\r\\n                            </td>\\r\\n                            <td>{{item.markt.naam}}</td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"DISTRICT\\\" [value]=\\\"item.markt.districtCode\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>{{item.aantalKavels}}</td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"AbonnementStatus\\\" [value]=\\\"item.statusCode\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"Uitstalling\\\" [value]=\\\"item.uitstallingCode\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"Verkoop\\\" [value]=\\\"item.verkoopCode\\\"></code-display>\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                <code-display type=\\\"Elektriciteit\\\" [value]=\\\"item.elektriciteitCode\\\"></code-display>\\r\\n                            </td>\\r\\n                        </ng-template>\\r\\n                    </dp-datagrid>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"maatschappelijkeZetel\\\" [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        MAATSCHAPPELIJKE ZETEL\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-body>\\r\\n                    <mafo-address [address]=\\\"klant.maatschappelijkeZetel\\\" [group]=\\\"klantForm.controls.maatschappelijkeZetel\\\" [required]=\\\"true\\\" (change)=\\\"copyAddressToFacturation()\\\"></mafo-address>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" [hidden]=\\\"limitedView\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"facturatieAdres\\\" [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        FACTURATIEADRES\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-actions>\\r\\n                    <div class=\\\"checkbox\\\">\\r\\n                        <label>\\r\\n                            <input type=\\\"checkbox\\\" [value]=\\\"facturatieAdresDisabled\\\" [attr.checked]=\\\"facturatieAdresDisabled ? true : null\\\" (click)=\\\"disableFacturatieAdres()\\\">\\r\\n                            Zelfde als maatschappelijke zetel\\r\\n                        </label>\\r\\n                    </div>\\r\\n                </mafo-panel-actions>\\r\\n                <mafo-panel-body>\\r\\n                    <mafo-address [address]=\\\"klant.facturatieAdres\\\"\\r\\n                                  [group]=\\\"klantForm.controls.facturatieAdres\\\"\\r\\n                                  [required]=\\\"true\\\"\\r\\n                                  [disable]=\\\"facturatieAdresDisabled\\\">\\r\\n                    </mafo-address>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\" formArrayName=\\\"contactPersonen\\\">\\r\\n            <mafo-panel selector=\\\"contactpersonen\\\" [collapsable]=\\\"true\\\" [open]=\\\"klant && !klant.id\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        CONTACTPERSONEN\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-actions>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-toolbar\\\" (click)=\\\"addContact()\\\">\\r\\n                        <i class=\\\"fa fa-plus\\\"></i>\\r\\n                        <span class=\\\"hidden-xs hidden-sm\\\">Toevoegen</span>\\r\\n                    </button>\\r\\n                </mafo-panel-actions>\\r\\n                <mafo-panel-body>\\r\\n                    <div class=\\\"row\\\" *ngFor=\\\"let contactPersoon of klantForm.controls.contactPersonen.controls; let i=index; trackBy:i\\\">\\r\\n                        <div class=\\\"col-xs-12\\\" [formGroupName]=\\\"i\\\">\\r\\n                            <mafo-contactpersoon [persoon]=\\\"klant.contactPersonen[i]\\\" selector=\\\"{{'persoon' + i}}\\\" [group]=\\\"klantForm.controls.contactPersonen.controls[i]\\\" (hoofdContactChanged)=\\\"hoofdContactChanged(i)\\\" (removed)=\\\"removeContactpersoon(i)\\\"></mafo-contactpersoon>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"klant && klant.id\\\" [hidden]=\\\"limitedView\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <dp-document-panel [klantId]=\\\"klant.id\\\"></dp-document-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"updateKlant | async\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <div class=\\\"pull-right\\\">\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Klant bewaren</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</form>\"","\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { BaseService, IPagedResult, IQueryParameters } from '../../core';\r\nimport { AppSettings } from '../../app.settings';\r\nimport { Persoon } from \"./contactpersoon.component\";\r\nimport { Adres } from \"./app.address\";\r\n\r\n@Injectable()\r\nexport class KlantService extends BaseService {\r\n    private url = this.apiEndpoint + 'customers/';\r\n\r\n    constructor(protected http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(http, loader);\r\n    }\r\n\r\n    getAll(commercieel: boolean, isGesanctioneerd?: boolean, query?: any): Observable<IPagedResult<any>> {\r\n        var params = this.registerDefaultParameters(query);\r\n        params = params.set(\"commercieel\", commercieel.toString());\r\n        if (isGesanctioneerd != undefined) {\r\n            params = params.set(\"isGesanctioneerd\", isGesanctioneerd.toString());\r\n        }\r\n        if (query.ondernemingsnummer) params = params.set(\"ondernemingsnummer\", query.ondernemingsnummer.toString());\r\n\r\n\r\n        this.loader.start();\r\n        return this.http.get<IPagedResult<any>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n\r\n    get(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this.http.get<any[]>(this.url + id, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError))\r\n    }\r\n\r\n    save(klant: any): Observable<any> {\r\n        this.loader.start();\r\n        const toAdd = JSON.stringify(klant);\r\n        const action: Observable<any> = klant.id && klant.id > 0\r\n            ? this.http.put<any>(this.url + klant.id, toAdd, { headers: this.jsonHeaders })\r\n            : this.http.post<any>(this.url, toAdd, { headers: this.jsonHeaders });\r\n        return action.pipe(tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    delete(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this.http.delete(this.url + id, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    getAanvragen(klantId: number, query?: any): Observable<IPagedResult<any>> {\r\n        const params = this.registerDefaultParameters(query);\r\n        this.loader.start();\r\n        return this.http.get<IPagedResult<any>>(this.url + `${klantId}/requests`, { headers: this.jsonHeaders, params: params }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n}\r\n\r\nexport interface IKlant {\r\n    id?: number;\r\n    juridischeEntiteit: string;\r\n    firmanaam: string,\r\n    ondernemingsnr: string;\r\n    telefoon: string;\r\n    gsm: string;\r\n    email: string;\r\n    fax: string;\r\n    isCommercieel: boolean;\r\n    maatschappelijkeZetel: Adres;\r\n    facturatieAdres: Adres;\r\n    contactPersonen: Persoon[];\r\n    kboStatus: string;\r\n\r\n}","import { Component, Input, Output, EventEmitter, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, FormArray, Validators } from \"@angular/forms\";\r\nimport { CustomValidators } from \"../validators\";\r\n\r\nexport class Persoon {\r\n    id: number = 0;\r\n    voornaam: string;\r\n    naam: string;\r\n    straat?: string;\r\n    huisNummer?: string;\r\n    postcode?: string;\r\n    gemeente?: string;\r\n    telefoon?: string;\r\n    gsm?: string;\r\n    fax?: string;\r\n    email?: string;\r\n    isHoofdcontactPersoon: boolean;\r\n\r\n    constructor(hoofdcontact: boolean, voornaam: string = \"\", naam: string = \"\") {\r\n        this.voornaam = voornaam;\r\n        this.naam = naam;\r\n        this.isHoofdcontactPersoon = hoofdcontact;\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: \"mafo-contactpersoon\",\r\n    templateUrl: \"./html/contactpersoon.component.html\"\r\n})\r\nexport class ContactPersoonComponent implements OnInit {\r\n    @Input() selector: string;\r\n    @Input(\"group\") contactPersoonForm: FormGroup;\r\n    @Output() hoofdContactChanged = new EventEmitter();\r\n    @Output() removed = new EventEmitter();\r\n\r\n    private get title(): string {\r\n        let title = this.contactPersoonForm.get(\"voornaam\").value + \" \" + this.contactPersoonForm.get(\"naam\").value;\r\n        return title.replace(/\\s/g, \"\").length <= 0 ? \"Nieuwe contactpersoon\" : title;\r\n    }\r\n\r\n    public get hoofdContact(): boolean {\r\n        return this.contactPersoonForm.get(\"isHoofdcontactPersoon\").value as boolean;\r\n    }\r\n\r\n    @Input()\r\n    public set hoofdContact(value: boolean) {\r\n        let control = this.contactPersoonForm.get(\"isHoofdcontactPersoon\");\r\n        control.setValue(value);\r\n        //control.disable();\r\n        this.hoofdContactChanged.emit();\r\n    }\r\n\r\n    @Input() persoon: Persoon;\r\n\r\n    constructor(private fb: FormBuilder) { }\r\n\r\n    ngOnInit(): void {\r\n        if (!this.persoon) this.persoon = new Persoon(false);\r\n        this.buildForm();\r\n    }\r\n\r\n    hoofdcontactSelected(): void {\r\n        this.hoofdContact = true;\r\n    }\r\n\r\n    remove($event: Event): void {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        this.removed.emit();\r\n    }\r\n\r\n    private buildForm(): void {\r\n        this.contactPersoonForm.addControl(\"id\", this.fb.control(this.persoon.id));\r\n        this.contactPersoonForm.addControl(\"voornaam\", this.fb.control(this.persoon.voornaam, [Validators.required, Validators.maxLength(50)]));\r\n        this.contactPersoonForm.addControl(\"naam\", this.fb.control(this.persoon.naam, [Validators.required, Validators.maxLength(50)]));\r\n        this.contactPersoonForm.addControl(\"telefoon\", this.fb.control(this.persoon.telefoon, [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]));\r\n        this.contactPersoonForm.addControl(\"gsm\", this.fb.control(this.persoon.gsm, [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]));\r\n        this.contactPersoonForm.addControl(\"fax\", this.fb.control(this.persoon.fax, [Validators.maxLength(30), Validators.pattern(\"(\\\\+|0)\\\\d+\")]));\r\n        this.contactPersoonForm.addControl(\"email\", this.fb.control(this.persoon.email, [Validators.maxLength(50), CustomValidators.validEmail]));\r\n        this.contactPersoonForm.addControl(\"isHoofdcontactPersoon\", this.fb.control({ value: this.persoon.isHoofdcontactPersoon, disabled: false }, []));\r\n        this.contactPersoonForm.addControl(\"adres\", this.fb.group({}));\r\n    }\r\n}"],"sourceRoot":"webpack:///"}