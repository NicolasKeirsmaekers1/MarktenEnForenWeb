{"version":3,"sources":["./ClientApp/app/factuur/factuur-historiek.component.ts","./ClientApp/app/factuur/html/factuur-detail.modal.component.html","./ClientApp/app/factuur/factuur.resolve.ts","./ClientApp/app/factuur/factuur.module.ts","../../src/compat/add/observable/interval.ts","../../src/add/observable/interval.ts","./ClientApp/app/factuur/factuur.module.definitions.ts","./ClientApp/app/factuur/factuur.service.ts","./ClientApp/app/factuur/factuur-generic.component.ts","./ClientApp/app/factuur/html/factuur-historiek.component.html","./ClientApp/app/factuur/factuur-detail.modal.component.ts","./ClientApp/app/factuur/html/factuur-generic.component.html"],"names":[],"mappings":"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","file":"factuur-factuur-module.js","sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, ViewContainerRef } from '@angular/core';\r\nimport { overlayConfigFactory } from 'ngx-modialog';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { IGridOptions } from '../componenten/datagrid';\r\nimport { SortOrder } from '../componenten/datagrid/datagrid.models';\r\nimport { IQueryParameters } from '../core';\r\nimport { IPagedResult } from '../core/core.interfaces';\r\nimport { FactuurDetailModal, FactuurDetailModalContext } from './factuur-detail.modal.component';\r\nimport { FactuurService } from './factuur.service';\r\n\r\n@Component({\r\n    templateUrl: './html/factuur-historiek.component.html'\r\n})\r\n\r\nexport class FactuurHistoriekComponent {\r\n    page: IQueryParameters;\r\n    selectedSemester: string;\r\n    historiekFactuur: IPagedResult<any>;\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        //TODO: properties van children sortable krijgen\r\n        fields: [\r\n            {\r\n                field: \"createdOn\",\r\n                title: \"Gecreëerd op\",\r\n                sortable: true,\r\n                sort: SortOrder.Ascending,\r\n                width: \"10%\"\r\n            },\r\n            {\r\n                field: \"klant.firmanaam\",\r\n                title: \"Firma\",\r\n                sortable: true,\r\n                width: \"30%\"\r\n            },\r\n            {\r\n                field: \"klant.ondernemingsnr\",\r\n                title: \"Ondernemingsnummer\",\r\n                sortable: true,\r\n                width: \"15%\"\r\n            },\r\n            {\r\n                //entity property name = naam, model property name = omschrijving \r\n                // => entity property name is used here for sorting purposes, model name is used in html\r\n                field: \"district.naam\",\r\n                title: \"District\",\r\n                sortable: true,\r\n                width: \"15%\"\r\n            },\r\n            {\r\n                field: \"factuurNummer\",\r\n                title: \"Factuurnummer\",\r\n                sortable: true,\r\n                width: \"15%\"\r\n            },\r\n            {\r\n                field: \"bedrag\",\r\n                title: \"Totaal bedrag\",\r\n                sortable: false,\r\n                width: \"10%\"\r\n            }\r\n        ]\r\n    };\r\n\r\n\r\n    constructor(private factuurService: FactuurService, private datePipe: DatePipe, private toastr: ToastrService, private modal: Modal,\r\n        private viewContainerRef: ViewContainerRef,) { }\r\n\r\n    fetchData(page: IQueryParameters): void {\r\n        if (!this.page) this.page = page;\r\n        else {\r\n            this.page.page = page.page;\r\n            this.page.pageSize = page.pageSize;\r\n            this.page.sort = page.sort;\r\n        }\r\n        this.page[\"isVerzondenNaarSAP\"] = true;\r\n\r\n        this.page[\"jaar\"] = undefined;\r\n        this.page[\"semester\"] = undefined;\r\n        if (this.selectedSemester && this.selectedSemester !== \"\") {\r\n            let splittedSemester: string[] = this.selectedSemester.split('/');\r\n            this.page[\"jaar\"] = Number(splittedSemester[1]);\r\n            this.page[\"semester\"] = Number(splittedSemester[0]);\r\n        }\r\n        this.factuurService.getAll(this.page).subscribe(x => this.historiekFactuur = x, x => {\r\n            this.toastr.error(\"Kon geen data inladen!\", \"Facturen\");\r\n            this.historiekFactuur = null;\r\n        });\r\n    }\r\n\r\n    searchFacturen($event): void {\r\n        if (this.page) {\r\n            this.page.page = 1;\r\n            this.page[\"filter\"] = $event.value;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n\r\n    showDetailModal(factuurId: number): void {\r\n        if (isNaN(factuurId)) { factuurId = 0; }\r\n        this.modal.open(FactuurDetailModal, overlayConfigFactory(new FactuurDetailModalContext(factuurId), FactuurDetailModalContext, {\r\n            viewContainer: this.viewContainerRef\r\n        }));\r\n    }\r\n\r\n    rowClicked(row: any) {\r\n        this.showDetailModal(row.data.id);\r\n    }\r\n}\r\n\r\nexport interface IFactuurHistoriekSearchCriteria {\r\n    Jaar: number,\r\n    Semester: number,\r\n    JaarSemester: number\r\n}","module.exports = \"﻿<div *ngIf=\\\"factuur\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <button aria-label=\\\"Close\\\" class=\\\"close\\\" type=\\\"button\\\" (click)=\\\"dialog.close(false)\\\">\\r\\n            <span aria-hidden=\\\"true\\\">×</span>\\r\\n        </button>\\r\\n        <h3 class=\\\"modal-title\\\">Detail factuur {{factuur.factuurNummer | nullSafe}}</h3>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <label>Doorgestuurd naar SAP</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <div class=\\\"pull-left\\\">\\r\\n                    <label>{{factuur.isDoorgestuurdNaarSAP === true ? 'Ja' : 'Nee' | nullSafe}}</label>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <label>Klant naam</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <div class=\\\"pull-left\\\">\\r\\n                    <label>{{factuur.klant.firmanaam | nullSafe}}</label>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Klant nummer</label>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-6\\\">\\r\\n                <div class=\\\"pull-left\\\">\\r\\n                    <label>{{factuur.klant.ondernemingsnr | nullSafe}}</label>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12 col-md-12\\\">\\r\\n                <label>Factuur lijnen</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 col-md-12\\\">\\r\\n                <dp-datagrid [data]=\\\"factuurLijnenData\\\" [options]=\\\"gridOptions\\\">\\r\\n                    <!-- Datagrid met template die een modal opent, waarin een nieuwe datagrid \\r\\n                    met een template zit veroorzaakt crash -->\\r\\n                    <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                        <td>{{item.omschrijving | nullSafe}}</td>\\r\\n                        <td>{{item.sapmateriaalCode | nullSafe}}</td>\\r\\n                        <td>€ {{item.eenheidsPrijs | nullSafe}}</td>\\r\\n                        <td>{{item.aantal | nullSafe}}</td>\\r\\n                        <td>€ {{item.totaal | nullSafe}}</td>\\r\\n                    </ng-template>\\r\\n                </dp-datagrid>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n       <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"dialog.close(false)\\\">Sluiten</button>\\r\\n    </div>\\r\\n</div>\"","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { FactuurService } from \"./factuur.service\";\r\n\r\n@Injectable()\r\nexport class FactuurResolve implements Resolve<any> {\r\n    constructor(private factuurService: FactuurService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): any {\r\n        return this.factuurService.get(route.params['id']);\r\n    }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { ServiceModule } from \"../services/service.module\";\r\nimport { SharedModule } from \"../shared/shared.module\";\r\nimport { SearchModule } from \"../componenten/search\";\r\nimport { ValidatorsModule } from \"../componenten/validators\";\r\nimport { CodeSelectModule } from \"../componenten/code-select\";\r\nimport { DateTimePickerhModule } from \"../componenten/datetimepicker\";\r\nimport { routes, factuurComponents, factuurDirectives, factuurPipes } from \"./factuur.module.definitions\"\r\nimport { FactuurResolve } from \"./factuur.resolve\";\r\nimport { FactuurService } from \"./factuur.service\";\r\nimport { SlimLoadingBarModule, SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { FactuurDetailModal } from \"./factuur-detail.modal.component\";\r\nimport { DatePipe } from \"@angular/common\";\r\n\r\n@NgModule({\r\n    imports: [\r\n        SharedModule,\r\n        ServiceModule,\r\n        SearchModule,\r\n        CodeSelectModule,\r\n        ValidatorsModule,\r\n        DateTimePickerhModule,\r\n        RouterModule.forChild([...routes])\r\n    ],\r\n    providers: [\r\n        FactuurService, FactuurResolve, DatePipe\r\n    ],\r\n    declarations: [\r\n        ...factuurComponents\r\n    ],\r\n    entryComponents: [FactuurDetailModal, ...factuurComponents],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class FactuurModule { }","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nrxjs_1.Observable.interval = rxjs_1.interval;\n//# sourceMappingURL=interval.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"rxjs-compat/add/observable/interval\");\n//# sourceMappingURL=interval.js.map","import { Route } from \"@angular/router\";\r\nimport { GenericFactuurComponent } from \"./factuur-generic.component\";\r\nimport { FactuurHistoriekComponent } from \"./factuur-historiek.component\";\r\nimport { FactuurResolve } from \"./factuur.resolve\";\r\nimport { AuthGuard, Privilege } from \"../auth\";\r\nimport { FactuurDetailModal } from \"./factuur-detail.modal.component\";\r\n\r\nexport const factuurComponents: any[] = [\r\n    GenericFactuurComponent,\r\n    FactuurHistoriekComponent,\r\n    FactuurDetailModal\r\n];\r\n\r\nexport const factuurDirectives: any[] = [];\r\n\r\nexport const factuurPipes: any[] = [];\r\n\r\nexport const routes: Route[] = [\r\n    {\r\n        path: \"halfjaarlijkse\",\r\n        component: GenericFactuurComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n            privileges: [Privilege.Factuur.GetFilteredAndPaged]\r\n        }\r\n    },\r\n    {\r\n        path: \"tussentijdse\",\r\n        component: GenericFactuurComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n            privileges: [Privilege.Factuur.GetFilteredAndPaged]\r\n        }\r\n    },\r\n    {\r\n        path: \"terugbetalingen\",\r\n        component: GenericFactuurComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n            privileges: [Privilege.Factuur.GetFilteredAndPaged]\r\n        }\r\n    },\r\n    {\r\n        path: \"historiek\",\r\n        component: FactuurHistoriekComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n            privileges: [Privilege.Factuur.GetFilteredAndPaged]\r\n        }\r\n    },\r\n    {\r\n        path: \":id\",\r\n        component: FactuurDetailModal,\r\n        resolve: {\r\n            Factuur: FactuurResolve\r\n        },\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n            privileges: [Privilege.Factuur.Get]\r\n        }\r\n    }\r\n];","\r\nimport {tap, catchError} from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppSettings } from '../app.settings';\r\nimport { Observable } from 'rxjs';\r\nimport { IPagedResult, IQueryParameters } from \"../core\";\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { BaseService } from \"../core\"\r\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class FactuurService extends BaseService {\r\n    private url = AppSettings.API_ENDPOINT + 'invoices';\r\n\r\n    constructor(protected _http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(_http, loader);\r\n    }\r\n\r\n    getAll(query?: any): Observable<IPagedResult<any>> {\r\n        var params = new HttpParams();\r\n        if (query) {\r\n            params = params.set(\"page\", query.page.toString());\r\n            params = params.set(\"pageSize\", query.pageSize.toString());\r\n            if (query.filter) params = params.set(\"filter\", query.filter);\r\n            if (query.factuurType) params = params.set(\"factuurType\", query.factuurType);\r\n            if (query.isVerzondenNaarSAP !== undefined) params = params.set(\"isVerzondenNaarSap\", query.isVerzondenNaarSAP);\r\n            if (query.jaar) params = params.set(\"jaar\", query.jaar);\r\n            if (query.semester !== undefined) params = params.set(\"semester\", query.semester);\r\n            if (query.sort && query.sort.length > 0) params = params.set(\"sort\", query.sort.join(\",\"));\r\n            if (query.geenAantal) params = params.set(\"geenAantal\", query.geenAantal);\r\n        }\r\n        this.loader.start();\r\n        return this._http.get<IPagedResult<any>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()),);\r\n    }\r\n\r\n    get(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.get<any>(this.url + '/' + id).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);\r\n    }\r\n\r\n    startGenerateFacturenJob(): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.post(AppSettings.API_ENDPOINT + 'invoicejobs', { headers: this.jsonHeaders}).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);            \r\n    }\r\n\r\n    getGenerateFacturenJob(): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.get<any>(AppSettings.API_ENDPOINT + 'invoicejobs', { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);            \r\n    }\r\n\r\n    sendFacturenToSAP(query: any): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.post(this.url , query, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError),);\r\n    }\r\n}","import 'rxjs/add/observable/interval';\r\n\r\nimport { Component, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { overlayConfigFactory } from 'ngx-modialog';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { interval as observableInterval, Observable, Subscription } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { AuthService, Privilege } from '../auth';\r\nimport { IGridOptions, SortOrder } from '../componenten/datagrid';\r\nimport { ApplicationConstants, IPagedResult, IQueryParameters } from '../core';\r\nimport { FactuurService } from '../factuur/factuur.service';\r\nimport {\r\n  FactuurDetailModal,\r\n  FactuurDetailModalContext,\r\n} from './factuur-detail.modal.component';\r\n\r\n@Component({\r\n  templateUrl: './html/factuur-generic.component.html',\r\n})\r\nexport class GenericFactuurComponent implements OnInit, OnDestroy {\r\n  pageTitle: string;\r\n  factuurGeneratieMelding: string;\r\n  sapButtonText: any;\r\n  page: IQueryParameters;\r\n  data: IPagedResult<any>;\r\n  showGenerateButton: boolean;\r\n  showSendToSapButton: boolean;\r\n  factuurType: string;\r\n  geenAantal: boolean;\r\n  errorMessage: any;\r\n  search: string;\r\n  genereer: Observable<boolean>;\r\n  stuurDoorNaarSap: Observable<boolean>;\r\n  private factuurGeneratieSubscription: Subscription;\r\n  factuurGeneratieRunning: boolean;\r\n  geenFacturen: boolean;\r\n  facturatieAfgerond: boolean;\r\n  searchForm: FormGroup;\r\n  hasMateriaalCodeError: boolean = false;\r\n\r\n  gridOptions: IGridOptions = {\r\n    stripedRows: true,\r\n    fields: [\r\n      {\r\n        field: 'createdOn',\r\n        title: 'Gecreëerd op',\r\n        sortable: true,\r\n        sort: SortOrder.Descending,\r\n        width: '10%',\r\n      },\r\n      {\r\n        field: 'klant.firmanaam',\r\n        title: 'Firma',\r\n        sortable: true,\r\n        width: '30%',\r\n      },\r\n      {\r\n        field: 'klant.ondernemingsnr',\r\n        title: 'Ondernemingsnummer',\r\n        sortable: true,\r\n        width: '15%',\r\n      },\r\n      {\r\n        //entity property name = naam, model property name = omschrijving\r\n        // => entity property name is used here for sorting purposes, model name is used in html\r\n        field: 'district.code',\r\n        title: 'District',\r\n        sortable: true,\r\n        width: '15%',\r\n      },\r\n      {\r\n        field: 'factuurNummer',\r\n        title: 'Factuurnummer',\r\n        sortable: true,\r\n        width: '15%',\r\n      },\r\n      {\r\n        field: 'bedrag',\r\n        title: 'Totaal bedrag',\r\n        sortable: false,\r\n        width: '10%',\r\n      },\r\n    ],\r\n  };\r\n\r\n  constructor(\r\n    private factuurService: FactuurService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modal: Modal,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private toastr: ToastrService,\r\n    private auth: AuthService\r\n  ) {}\r\n\r\n  fetchData(page: IQueryParameters): void {\r\n    if (!this.page) this.page = page;\r\n    else {\r\n      this.page.page = page.page;\r\n      this.page.pageSize = page.pageSize;\r\n      this.page.sort = page.sort;\r\n    }\r\n    this.page['factuurType'] = this.factuurType;\r\n    if (this.factuurType == ApplicationConstants.Terugbetaling) {\r\n      this.page['geenAantal'] = true;\r\n    }\r\n    this.factuurService.getAll(this.page).subscribe(\r\n      (x) => {\r\n        this.data = x;\r\n        if (this.data.page.totalElements == 0) {\r\n          this.geenFacturen = true;\r\n          this.sapButtonText = 'Geen Facturen';\r\n        } else {\r\n          this.geenFacturen = false;\r\n          if (this.data.page.totalElements == 1) {\r\n            this.sapButtonText =\r\n              'Stuur ' +\r\n              this.data.page.totalElements +\r\n              ' factuur door naar SAP';\r\n          } else {\r\n            this.sapButtonText =\r\n              'Stuur ' +\r\n              this.data.page.totalElements +\r\n              ' facturen door naar SAP';\r\n          }\r\n        }\r\n      },\r\n      (x) => {\r\n        this.toastr.error('Kon geen data inladen!', 'Facturen');\r\n        this.data = null;\r\n      }\r\n    );\r\n  }\r\n\r\n  generateFacturen(): void {\r\n    this.hasMateriaalCodeError = false;\r\n    this.facturatieAfgerond = false;\r\n    this.factuurGeneratieRunning = true;\r\n    this.factuurGeneratieSubscription =\r\n      this.pollGenerateFacturenStatus().subscribe((data) => {\r\n        this.factuurGeneratieRunning = data.status === 'Bezig';\r\n      });\r\n\r\n    this.factuurService.startGenerateFacturenJob().subscribe(\r\n      (x) => {\r\n        this.toastr.info('Facturen succesvol gegenereerd');\r\n        this.facturatieAfgerond = true;\r\n        this.fetchData(this.page);\r\n        if (this.factuurGeneratieSubscription) {\r\n          this.factuurGeneratieSubscription.unsubscribe();\r\n          this.factuurGeneratieRunning = false;\r\n        }\r\n      },\r\n      (x) => {\r\n        this.toastr.error('Kon facturen niet genereren', 'Facturen genereren');\r\n        if (x.ExtraInfo) {\r\n          //if error of type\r\n          if ('MaterialCodeError' in x.ExtraInfo) {\r\n            this.errorMessage = x.ExtraInfo['MaterialCodeError'];\r\n            this.hasMateriaalCodeError = true;\r\n          }\r\n          for (let xtra in x.ExtraInfo) {\r\n            this.toastr.warning(xtra, x.ExtraInfo[xtra]);\r\n          }\r\n        } else if (x) {\r\n          this.toastr.warning(x.replace(/(<([^>]+)>)/gi, ''));\r\n        }\r\n        this.facturatieAfgerond = false;\r\n        if (this.factuurGeneratieSubscription) {\r\n          this.factuurGeneratieSubscription.unsubscribe();\r\n          this.factuurGeneratieRunning = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  sendFacturenToSAP(): void {\r\n    this.modal\r\n      .confirm()\r\n      .title(' Facturen naar SAP doorsturen')\r\n      .body(\r\n        'Bent u zeker dat u <b>' +\r\n          this.data.page.totalElements +\r\n          '</b> facturen wil doorsturen naar SAP?'\r\n      )\r\n      .cancelBtn('Nee')\r\n      .okBtn('Ja')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n      .then((x) =>\r\n        this.factuurService.sendFacturenToSAP(this.page).subscribe(\r\n          (x) => x,\r\n          (x) =>\r\n            this.toastr.error(\r\n              'Er is een fout opgetreden bij het verzenden van facturen!'\r\n            ),\r\n          () => {\r\n            this.toastr.info('Facturen succesvol verzonden');\r\n            this.searchForm.setValue({ searchField: '' });\r\n            this.page['filter'] = '';\r\n            this.fetchData(this.page);\r\n          }\r\n        )\r\n      ) // if we're here, ok was clicked.\r\n      .catch((x) => {}); // if we're here, cancel was clicked.\r\n  }\r\n\r\n  pollGenerateFacturenStatus(): Observable<any> {\r\n    return observableInterval(6000).pipe(\r\n      switchMap(() => this.factuurService.getGenerateFacturenJob())\r\n    );\r\n  }\r\n\r\n  searchFacturen($event): void {\r\n    if (this.page) {\r\n      this.page.page = 1;\r\n      this.page['filter'] = $event.value;\r\n      this.page['factuurType'] = this.factuurType;\r\n      this.page['geenaantal'] = this.geenAantal;\r\n      this.fetchData(this.page);\r\n    }\r\n  }\r\n\r\n  showDetailModal(factuurId: number): void {\r\n    if (isNaN(factuurId)) {\r\n      factuurId = 0;\r\n    }\r\n    this.modal.open(\r\n      FactuurDetailModal,\r\n      overlayConfigFactory(\r\n        new FactuurDetailModalContext(factuurId),\r\n        FactuurDetailModalContext,\r\n        {\r\n          viewContainer: this.viewContainerRef,\r\n        }\r\n      )\r\n    );\r\n  }\r\n\r\n  rowClicked(row: any) {\r\n    this.showDetailModal(row.data.id);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.factuurGeneratieSubscription) {\r\n      this.factuurGeneratieSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.searchForm = new FormGroup({ searchField: new FormControl() });\r\n    this.facturatieAfgerond = false;\r\n\r\n    if (this.route.snapshot.url[0].path) {\r\n      var typeFactuurString = this.route.snapshot.url[0].path;\r\n      switch (typeFactuurString) {\r\n        case ApplicationConstants.HalfjaarlijksFactuurTypeRoute:\r\n          this.pageTitle = 'Facturen';\r\n          this.factuurType = ApplicationConstants.HalfjaarlijksFactuurType;\r\n          this.factuurGeneratieMelding =\r\n            'Even geduld... er wordt gecontroleerd of er reeds facturen gegenereerd worden...';\r\n          this.factuurGeneratieSubscription =\r\n            this.pollGenerateFacturenStatus().subscribe((data) => {\r\n              this.factuurGeneratieRunning = data.status === 'Bezig';\r\n              this.showGenerateButton = true;\r\n              this.showSendToSapButton = true;\r\n              this.factuurGeneratieMelding = '';\r\n              if (!this.factuurGeneratieRunning) {\r\n                this.factuurGeneratieSubscription.unsubscribe();\r\n              }\r\n            });\r\n          break;\r\n        case ApplicationConstants.TussentijdsFactuurTypeRoute:\r\n          this.showSendToSapButton = true;\r\n          this.pageTitle = 'Tussentijdse facturen';\r\n          this.factuurType = ApplicationConstants.TussentijdsFactuurType;\r\n          this.geenAantal = false;\r\n          break;\r\n        case ApplicationConstants.TerugbetalingenRoute:\r\n          this.pageTitle = 'Terugbetalingen';\r\n          this.factuurType = ApplicationConstants.Terugbetaling;\r\n          this.geenAantal = true;\r\n          break;\r\n        default:\r\n          this.pageTitle = 'Facturen';\r\n          this.factuurType = ApplicationConstants.OnbekendFactuurType;\r\n          this.geenAantal = false;\r\n          break;\r\n      }\r\n    }\r\n    this.security();\r\n  }\r\n\r\n  security(): void {\r\n    this.genereer = this.auth.hasPermission(Privilege.Factuur.Genereer);\r\n    this.stuurDoorNaarSap = this.auth.hasPermission(\r\n      Privilege.Factuur.StuurNaarSap\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"factuurHistoriek\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3 id=\\\"title-historiek\\\">\\r\\n                    <span class=\\\"fa fa-dot-circle-o\\\"></span>&nbsp;\\r\\n                    Factuur historiek\\r\\n                </h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <search (search)=\\\"searchFacturen($event)\\\"></search>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <div class=\\\"input-group\\\">\\r\\n                                <span class=\\\"input-group-addon\\\" style=\\\"background-color: #428bca; border-color: #357ebd\\\">\\r\\n                                    <span class=\\\"btn-primary\\\" style=\\\"background-color: #428bca\\\">Semester</span>\\r\\n                                </span>\\r\\n                                <code-select placeholder=\\\"- Semester -\\\" type=\\\"FactuurSemester\\\" [(ngModel)]=\\\"selectedSemester\\\" (ngModelChange)=\\\"fetchData(page)\\\"></code-select>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid [data]=\\\"historiekFactuur\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                                    <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                        <td>{{item.createdOn | date: 'dd/MM/yyyy'}}</td>\\r\\n                                        <td>{{item.klant.firmanaam | nullSafe}}</td>\\r\\n                                        <td>{{item.klant.ondernemingsnr | nullSafe}}</td>\\r\\n                                        <td>{{item.district.omschrijving | nullSafe}}</td>\\r\\n                                        <td>{{item.factuurNummer | nullSafe}}</td>\\r\\n                                        <td>€ {{item.bedrag | nullSafe}}</td>\\r\\n                                    </ng-template>\\r\\n                                    <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                        <button title=\\\"Detail\\\" class=\\\"btn btn-default btn-xs btn-primary\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"showDetailModal(item.id)\\\">\\r\\n                                            <i class=\\\"fa fa-info\\\"></i>\\r\\n                                        </button>\\r\\n                                    </ng-template>\\r\\n                                </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","﻿import { Component } from '@angular/core';\r\nimport { DialogRef, ModalComponent } from 'ngx-modialog';\r\nimport { BSModalContext } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { IGridOptions } from '../componenten/datagrid';\r\nimport { IPagedResult } from '../core';\r\nimport { FactuurService } from '../factuur/factuur.service';\r\n\r\nexport class FactuurDetailModalContext extends BSModalContext {\r\n    constructor(public factuurId: number) {\r\n        super();\r\n    }\r\n}\r\n\r\n@Component({\r\n    templateUrl: \"./html/factuur-detail.modal.component.html\"\r\n})\r\nexport class FactuurDetailModal implements ModalComponent<FactuurDetailModalContext> {\r\n    context: FactuurDetailModalContext;\r\n    factuur: any;\r\n    errorMessage: any;\r\n    factuurLijnenData: IPagedResult<any> = {\r\n        page: {\r\n            number: 1,\r\n            size: 0,\r\n            totalElements: 0,\r\n            totalPages: 1\r\n        },\r\n        embedded: { resourceList: new Array() },\r\n        links: null\r\n    };\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        showPaging: false,\r\n        fields: [\r\n            {\r\n                field: \"omschrijving\",\r\n                title: \"Omschrijving\",\r\n                sortable: false,\r\n                width: \"35%\"\r\n            },\r\n            {\r\n                field: \"sapmateriaalCode\",\r\n                title: \"MateriaalCode SAP\",\r\n                sortable: false,\r\n                width: \"20%\"\r\n            },\r\n            {\r\n                field: \"eenheidsPrijs\",\r\n                title: \"Eenheidsprijs\",\r\n                sortable: false,\r\n                width: \"15%\"\r\n            },\r\n            {\r\n                field: \"aantal\",\r\n                title: \"Aantal\",\r\n                sortable: false,\r\n                width: \"15%\"\r\n            },\r\n            {\r\n                field: \"totaal\",\r\n                title: \"Totaalprijs\",\r\n                sortable: false,\r\n                width: \"15%\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    constructor(\r\n        public dialog: DialogRef<FactuurDetailModalContext>,\r\n        private factuurService: FactuurService,\r\n        private toastr: ToastrService) {\r\n        this.context = dialog.context;\r\n        this.context.size = 'lg';\r\n    }\r\n\r\n    getFactuur(factuurId: number) {\r\n        this.factuurService.get(factuurId)\r\n            .subscribe(x => {\r\n                this.factuur = x;\r\n                this.factuurLijnenData = this.factuur.factuurLijnen;\r\n            },\r\n            error => this.errorMessage = <any>error);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.context.factuurId > 0) {\r\n            this.getFactuur(this.context.factuurId);\r\n        }\r\n    }\r\n}","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3>\\r\\n                    <span class=\\\"fa fa-dot-circle-o\\\" id=\\\"title-factuur\\\"></span>&nbsp;\\r\\n                    {{pageTitle}}\\r\\n                </h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-actions>\\r\\n                <div id=\\\"factuur-generatie-melding\\\">{{factuurGeneratieMelding}}</div>\\r\\n                <a id=\\\"genereer-facturen-button\\\" class=\\\"btn btn-primary\\\" [ngClass]=\\\"{'disabled' : factuurGeneratieRunning }\\\" *ngIf=\\\"showGenerateButton && genereer | async\\\" (click)=\\\"generateFacturen()\\\">\\r\\n                    <i class=\\\"fa \\\" [ngClass]=\\\"{ 'fa-spin': factuurGeneratieRunning, 'fa-refresh': !facturatieAfgerond, 'fa-check':facturatieAfgerond }\\\"></i>\\r\\n                    <span class=\\\"hidden-sm hidden-xs\\\">&nbsp;&nbsp;Genereer facturen voor volgend semester</span>\\r\\n                </a>\\r\\n                <a id=\\\"sap-button\\\" class=\\\"btn btn-primary\\\" [ngClass]=\\\"{'disabled' : factuurGeneratieRunning  || geenFacturen }\\\" *ngIf=\\\"showSendToSapButton && stuurDoorNaarSap | async\\\" (click)=\\\"sendFacturenToSAP()\\\">\\r\\n                    <i class=\\\"fa fa-envelope\\\"></i>\\r\\n                    <span class=\\\"hidden-sm hidden-xs\\\">&nbsp;&nbsp;{{sapButtonText}}</span>\\r\\n                </a>\\r\\n            </mafo-panel-actions>\\r\\n            <mafo-panel-body>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-md-12\\\">\\r\\n                        <div *ngIf=\\\"hasMateriaalCodeError\\\" class=\\\"alert alert-danger\\\" role=\\\"alert\\\">\\r\\n                            {{errorMessage}} Het instellen van de SAP materiaalcode gebeurt bij <a routerLink=\\\"/beheer/variabelen/standplaatssapmateriaalcode\\\">Beheer Variabelen</a>.\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <form [formGroup]=\\\"searchForm\\\">\\r\\n                                <form-group>\\r\\n                                    <search (search)=\\\"searchFacturen($event)\\\" formControlName=\\\"searchField\\\"></search>\\r\\n                                </form-group>\\r\\n                            </form>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                                <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <td>{{item.createdOn | date: 'dd/MM/yyyy'}}</td>\\r\\n                                    <td>{{item.klant.firmanaam | nullSafe}}</td>\\r\\n                                    <td>{{item.klant.ondernemingsnr | nullSafe}}</td>\\r\\n                                    <td>{{item.district.omschrijving | nullSafe}}</td>\\r\\n                                    <td>{{item.factuurNummer | nullSafe}}</td>\\r\\n                                    <td>€ {{item.bedrag | nullSafe}}</td>\\r\\n                                </ng-template>\\r\\n                                <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <button title=\\\"Detail\\\" class=\\\"btn btn-default btn-xs btn-info\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"showDetailModal(item.id)\\\">\\r\\n                                        <i class=\\\"fa fa-info\\\"></i>\\r\\n                                    </button>\\r\\n                                </ng-template>\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\""],"sourceRoot":"webpack:///"}