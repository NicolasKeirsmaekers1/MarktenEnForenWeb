{"version":3,"sources":["./ClientApp/app/wachtlijst/wachtlijst-registratie.markt.component.ts","./ClientApp/app/services/markt-wachtlijst.service.ts","./ClientApp/app/wachtlijst/html/wachtlijst-intake.component.html","./ClientApp/app/wachtlijst/wachtlijst-intake-detail.component.ts","./ClientApp/app/services/aanvraag.ts","./ClientApp/app/componenten/alert/alert.module.ts","./ClientApp/app/wachtlijst/wachtlijst-registratie.component.ts","./ClientApp/app/services/aanvraag-markt.service.ts","./ClientApp/app/wachtlijst/html/wachtlijst-reservatie.component.html","./ClientApp/app/componenten/alert/alert.component.ts","./ClientApp/app/wachtlijst/html/wachtlijst-registratie.markt.component.html","./ClientApp/app/wachtlijst/html/wachtlijst-intake-detail.component.html","./ClientApp/app/services/aanvraag.service.ts","./ClientApp/app/wachtlijst/wachtlijst.module.definitions.ts","./ClientApp/app/wachtlijst/html/wachtlijst-intake-view.component.html","./ClientApp/app/wachtlijst/wachtlijst.resolve.ts","./ClientApp/app/wachtlijst/wachtlijst.module.ts","./ClientApp/app/wachtlijst/wachtlijst-reservatie.component.ts","./ClientApp/app/wachtlijst/wachtlijst-hernieuwing-inschrijving.component.ts","./ClientApp/app/wachtlijst/wachtlijst-intake-view.component.ts","./ClientApp/app/wachtlijst/html/wachtlijst-intake-klant.component.html","./ClientApp/app/wachtlijst/html/wachtlijst-hernieuwing-inschrijving.component.html","./ClientApp/app/wachtlijst/wachtlijst-intake.component.ts","./ClientApp/app/wachtlijst/wachtlijst-intake-klant.component.ts","./ClientApp/app/wachtlijst/html/wachtlijst-registratie.component.html","./ClientApp/app/services/intake.service.ts","./ClientApp/app/services/aanvraag-weigering.service.ts"],"names":[],"mappings":"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","file":"wachtlijst-wachtlijst-module.js","sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { IQueryParameters, IPagedResult } from \"../core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { IGridOptions } from \"../componenten/datagrid\";\r\nimport { ToastrService} from 'ngx-toastr';\r\nimport { ApplicationConstants } from '../core';\r\nimport { MarktWachtlijstService } from \"../services/markt-wachtlijst.service\";\r\nimport { IMarktWachtlijst } from \"../componenten/markt-select\";\r\n\r\n@Component({\r\n    templateUrl: \"./html/wachtlijst-registratie.markt.component.html\",\r\n    styles: [\"td.priority-item { border-bottom: 0px solid black !important;}\"] // op 0px gezet om zwarte lijn (onder laatste ruiling) niet zichtbaar te maken.  Style settings behouden indien het terug nodig zou zijn.\r\n})\r\nexport class WachtlijstRegistratieMarktComponent {\r\n    page: IQueryParameters;\r\n    data: IPagedResult<IMarktWachtlijst>;\r\n    markt: any;\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [\r\n            {\r\n                field: \"district.omschrijving\",\r\n                title: \"Type\"\r\n            },\r\n            {\r\n                field: \"dagVanDeWeek.omschrijving\",\r\n                title: \"Nr\"\r\n            },\r\n            {\r\n                field: \"locatie.naam\",\r\n                title: \"OND\"\r\n            },\r\n            {\r\n                field: \"naam\",\r\n                title: \"Bedrijfsnaam\"\r\n            }\r\n            ,\r\n            {\r\n                field: \"naam\",\r\n                title: \"Uitgesteld\"\r\n            }\r\n            ,\r\n            {\r\n                field: \"\",\r\n                title: \"\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    constructor(\r\n        private marktWachtlijstService: MarktWachtlijstService,\r\n        private toastr: ToastrService,\r\n        private router: Router,\r\n        private route: ActivatedRoute) { }\r\n\r\n    ngOnInit() {\r\n        this.markt = this.route.snapshot.data[\"markt\"];\r\n    }\r\n\r\n    fetchData(page: IQueryParameters): void {\r\n        if (!this.page) this.page = page;\r\n        else {\r\n            this.page.page = page.page;\r\n            this.page.pageSize = page.pageSize;\r\n            this.page.sort = page.sort;\r\n        }\r\n\r\n        this.marktWachtlijstService.getWachtlijst(this.markt.id, this.page).subscribe(x => {\r\n            this.data = x;\r\n            let filter = this.data.embedded.resourceList.filter(item => item.verkoopCode === ApplicationConstants.Verkoop.Demonstreerder || item.soortCode === ApplicationConstants.AanvraagSoort.RuilingCode);\r\n            if (filter && filter.length > 0 && this.data.embedded.resourceList.length !== filter.length) {\r\n                filter[filter.length - 1][\"priorityItem\"] = true;\r\n            }\r\n        }, error => {\r\n            this.toastr.error(\"Kon de registraties niet inladen\");\r\n        });\r\n    };\r\n\r\n    rowClicked(row: any) {\r\n        this.router.navigate([\"wachtlijst\", \"registratie\", row.data.aanvraagId]);\r\n    }\r\n}","import { BaseService, IPagedResult } from \"../core\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { AppSettings } from \"../app.settings\";\r\nimport { Observable } from \"rxjs\";\r\nimport { IMarktWachtlijstOverview, IMarktWachtlijst } from \"../componenten/markt-select\";\r\nimport { HttpParams, HttpClient } from \"@angular/common/http\";\r\nimport { catchError, tap } from \"rxjs/operators\";\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\n\r\n@Injectable()\r\nexport class MarktWachtlijstService extends BaseService {\r\n    private url = AppSettings.API_ENDPOINT + 'marketwaitinglists/';\r\n\r\n    constructor(protected http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(http, loader);\r\n    }\r\n\r\n    getRegistratieWachtlijstOverizcht(query?: any): Observable<IPagedResult<IMarktWachtlijstOverview>> {\r\n        var params = new HttpParams();\r\n        if (query) {\r\n            if (query.page) params = params.set(\"page\", query.page.toString());\r\n            if (query.pageSize) params = params.set(\"pageSize\", query.pageSize.toString());\r\n            if (query.query) params = params.set(\"query\", query.query);\r\n            if (query.sort && query.sort.length > 0) params = params.set(\"sort\", query.sort.join(\",\"));\r\n            if (query.district) params = params.set(\"district\", query.district);\r\n            if (query.toeTeWijzen) params = params.set(\"toeTeWijzen\", query.toeTeWijzen);\r\n        }\r\n\r\n        this.loader.start();\r\n        return this.http.get<IPagedResult<IMarktWachtlijstOverview>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n\r\n    getWachtlijst(marktId: number, query?: any): Observable<IPagedResult<IMarktWachtlijst>> {\r\n        var params = new HttpParams();\r\n        if (query) {\r\n            if (query.page) params = params.set(\"page\", query.page.toString());\r\n            if (query.pageSize) params = params.set(\"pageSize\", query.pageSize.toString());\r\n            if (query.query) params = params.set(\"query\", query.query);\r\n        }\r\n        this.loader.start();\r\n        return this.http.get<IPagedResult<IMarktWachtlijst>>(this.url + marktId + \"/waitinglists\", { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n}","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-10\\\" id=\\\"title-intake\\\">\\r\\n                            <span class=\\\"fa fa-dot-circle-o\\\"></span>&nbsp;\\r\\n                            {{pageTitle}}\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xs-2\\\">\\r\\n                            <div *ngIf=\\\"intake\\\">\\r\\n                                <a *ngIf=\\\"addAanvraag | async\\\" id=\\\"new-intake-button\\\" class=\\\"btn btn-primary pull-right\\\" routerLink=\\\"/wachtlijst/intake/klant\\\">\\r\\n                                    <i class=\\\"fa fa-plus\\\"></i>\\r\\n                                    <span class=\\\"hidden-sm hidden-xs\\\">&nbsp;&nbsp;Nieuwe intake</span>\\r\\n                                </a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-6\\\">\\r\\n                            <search (search)=\\\"searchIntakes($event)\\\"></search>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <hr />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                                <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <td>{{item.datum | date: 'dd/MM/yyyy'}}</td>\\r\\n                                    <td>{{item.ondernemingsNr | stringformat: 'xxxx.xxx.xxx'}}</td>\\r\\n                                    <td>{{item.firmanaam}}</td>\\r\\n                                    <td>\\r\\n                                        <code-display type=\\\"aanvraagsoort\\\" [value]=\\\"item.soort\\\"></code-display>\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        <span class=\\\"markt-in-overview\\\"><span class=\\\"badge\\\">{{item.markten[0]}}</span></span>\\r\\n                                        <span *ngIf=\\\"item.markten.length > 1\\\" [attr.title]=\\\"marktenTooltip(item.markten)\\\" class=\\\"markt-in-overview\\\"><span class=\\\"badge\\\">+{{item.markten.length-1}}</span></span>\\r\\n                                    </td>\\r\\n                                </ng-template>\\r\\n                                <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <button title=\\\"Edit\\\" *ngIf=\\\"updateAanvraag\\\" class=\\\"btn btn-primary btn-xs btn-delete\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"edit(item)\\\">\\r\\n                                        <i class=\\\"fa fa-pencil\\\"></i>\\r\\n                                    </button>\\r\\n                                    <button title=\\\"Verwijderen\\\" *ngIf=\\\"deleteAanvraag | async\\\" class=\\\"btn btn-danger btn-xs btn-delete\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"showDeleteModal(item)\\\">\\r\\n                                        <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                                    </button>\\r\\n                                </ng-template>\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { AuthService, Privilege } from '../auth';\r\nimport { MarktPanelComponent } from '../componenten/markt-select';\r\nimport { ProductPanelComponent } from '../componenten/product-select';\r\nimport { ValidatorService } from '../componenten/validators';\r\nimport { ApplicationConstants, IPagedResult, IQueryParameters } from '../core';\r\nimport { AanvraagService } from '../services/aanvraag.service';\r\nimport { AbonnementService } from '../services/abonnement.service';\r\nimport { IntakeService } from '../services/intake.service';\r\nimport { DateTimeHelper } from '../shared/helper/datetimehelper';\r\n\r\n@Component({\r\n  templateUrl: './html/wachtlijst-intake-detail.component.html',\r\n})\r\nexport class WachtlijstIntakeDetailComponent implements OnInit {\r\n  private aanvraagSoort = ApplicationConstants.AanvraagSoort;\r\n  intake: any;\r\n  klant: any;\r\n  klantId: number;\r\n  aantalKavels: number = 0;\r\n  teBetalen: number = 0;\r\n  intakeForm: FormGroup;\r\n  errorMessage: any;\r\n  aanvraag: any;\r\n  title: string;\r\n  isRuiling: boolean = false;\r\n  deleted: boolean = false;\r\n  marktDisabled: boolean = false;\r\n  geregistreerd: boolean = false;\r\n  maxKavels: number = 8;\r\n\r\n  page: IQueryParameters = { page: 1, pageSize: Number.MAX_VALUE, sort: [''] };\r\n  abonnementen: IPagedResult<any>;\r\n  abonnementSearchCriteria: IAbonnementSearchCriteria = {\r\n    marktId: 0,\r\n    query: '',\r\n    productId: 0,\r\n    verkoopCode: '',\r\n    statusCode: '',\r\n    beginDatum: null,\r\n    eindDatum: null,\r\n    klantId: 0,\r\n  };\r\n\r\n  disabled: boolean = false;\r\n  bewaarButton: Observable<boolean>;\r\n  bewaarButtonText: string;\r\n  statusChangeButton: Observable<boolean>;\r\n  statusChangeButtonText: string;\r\n  directBewarenButton: Observable<boolean>;\r\n  directBewarenButtonText: string;\r\n  deleteButton: Observable<boolean>;\r\n\r\n  @ViewChild(MarktPanelComponent, { static: false })\r\n  private marktPanel: MarktPanelComponent;\r\n  @ViewChild(ProductPanelComponent, { static: false })\r\n  private productPanel: ProductPanelComponent;\r\n\r\n  get producten(): FormArray {\r\n    return this.intakeForm.get('producten') as FormArray;\r\n  }\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private route: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private aanvraagService: AanvraagService,\r\n    private abonnementService: AbonnementService,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private modal: Modal,\r\n    private dateTimeHelper: DateTimeHelper,\r\n    private validationService: ValidatorService,\r\n    private intakeService: IntakeService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.klant = this.route.snapshot.data['klant'] || {};\r\n\r\n    this.intake = this.route.snapshot.data['intake'] || {\r\n      id: 0,\r\n      soortCode: '',\r\n      uitstallingCode: '',\r\n      verkoopCode: '',\r\n      elektriciteitCode: '',\r\n      opmerking: '',\r\n      isBetaald: false,\r\n      isDocumentenOk: false,\r\n      isUitgesteld: false,\r\n      producten: [],\r\n      aanvraagMarkten: [],\r\n      klantId: 0,\r\n      officieleInschrijvingsDatum: '',\r\n      statusCode: ApplicationConstants.AanvraagStatus.Intake,\r\n    };\r\n\r\n    this.klantId =\r\n      this.intake.statusCode === ApplicationConstants.AanvraagStatus.Intake &&\r\n      this.intake.id === 0\r\n        ? this.klant.id\r\n        : this.intake.klantId;\r\n\r\n    this.buildForm();\r\n    this.setModus();\r\n\r\n    if (\r\n      typeof this.intake.deletedOn !== 'undefined' &&\r\n      this.intake.deletedOn != null\r\n    ) {\r\n      this.deleted = true;\r\n      this.intakeForm.get('soortCode').disable();\r\n      this.intakeForm.get('uitstallingCode').disable();\r\n      this.intakeForm.get('verkoopCode').disable();\r\n      this.intakeForm.get('elektriciteitCode').disable();\r\n      this.intakeForm.get('opmerking').disable();\r\n      this.intakeForm.get('isBetaald').disable();\r\n      this.intakeForm.get('officieleInschrijvingsDatum').disable();\r\n      this.intakeForm.get('isDocumentenOk').disable();\r\n      this.intakeForm.get('isUitgesteld').disable();\r\n      this.intakeForm.get('uitgesteldDatum').disable();\r\n    }\r\n\r\n    if (\r\n      this.intake.soortCode ==\r\n      ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode\r\n    ) {\r\n      this.marktDisabled = true;\r\n    }\r\n\r\n    if (this.intake.id !== 0) {\r\n      this.getTotaalAantalKavels(this.intake.aanvraagMarkten);\r\n    }\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.intakeForm = this.fb.group({\r\n      id: [this.intake.id],\r\n      soortCode: [\r\n        { value: this.intake.soortCode, disabled: this.intake.id > 0 },\r\n        [Validators.required],\r\n      ],\r\n      uitstallingCode: [this.intake.uitstallingCode, [Validators.required]],\r\n      verkoopCode: [this.intake.verkoopCode, [Validators.required]],\r\n      elektriciteitCode: [this.intake.elektriciteitCode, [Validators.required]],\r\n      opmerking: [this.intake.opmerking],\r\n      isBetaald: [this.intake.isBetaald],\r\n      isDocumentenOk: [this.intake.isDocumentenOk],\r\n      isUitgesteld: [this.intake.isUitgesteld],\r\n      klantId: [this.klantId],\r\n      officieleInschrijvingsDatum: [this.intake.officieleInschrijvingsDatum],\r\n      uitgesteldDatum: [this.intake.uitgesteldDatum],\r\n      statusCode: [this.intake.statusCode],\r\n      datum: [this.intake.datum],\r\n    });\r\n  }\r\n\r\n  getTotaalAantalKavels(aanvraagMarkten: any): void {\r\n    for (let aanvraagmarkt of aanvraagMarkten) {\r\n      this.aantalKavels += aanvraagmarkt.aantalKavels;\r\n    }\r\n    if (\r\n      this.intake.soortCode ==\r\n        ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode ||\r\n      this.intake.soortCode ==\r\n        ApplicationConstants.AanvraagSoort.NieuwePlaatsCode\r\n    ) {\r\n      this.teBetalen = this.aantalKavels * 5;\r\n    } else {\r\n      this.teBetalen = 5;\r\n    }\r\n  }\r\n\r\n  marktenChanged($event: Array<any>) {\r\n    let totaalAantalKavels = $event\r\n      .map((x) => x.aantalKavels)\r\n      .reduce((a, b) => a + b, 0);\r\n    if (\r\n      this.intake.soortCode ==\r\n        ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode ||\r\n      this.intake.soortCode ==\r\n        ApplicationConstants.AanvraagSoort.NieuwePlaatsCode ||\r\n      this.intakeForm.get('soortCode').value ==\r\n        ApplicationConstants.AanvraagSoort.NieuwePlaatsCode ||\r\n      this.intakeForm.get('soortCode').value ==\r\n        ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode\r\n    ) {\r\n      this.teBetalen = totaalAantalKavels * 5;\r\n    } else {\r\n      this.teBetalen = 5;\r\n    }\r\n    this.aantalKavels = totaalAantalKavels;\r\n  }\r\n\r\n  isBetaaldChanged($event) {\r\n    if ($event && !this.intakeForm.get('officieleInschrijvingsDatum').value) {\r\n      this.intakeForm.get('officieleInschrijvingsDatum').setValue(new Date());\r\n    } else {\r\n      this.intakeForm.get('officieleInschrijvingsDatum').setValue(null);\r\n    }\r\n  }\r\n\r\n  statusChange() {\r\n    var valid = true;\r\n    if (\r\n      this.intake.soortCode !==\r\n      ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode\r\n    ) {\r\n      if (!this.validateMarkten()) {\r\n        this.toastr.info('Kies ten minste 1 markt', 'Aanvraag bewaren');\r\n        valid = false;\r\n      }\r\n    }\r\n\r\n    if (\r\n      !this.validateProducten() &&\r\n      (this.intakeForm.value.soortCode ===\r\n        ApplicationConstants.AanvraagSoort.NieuwePlaatsCode ||\r\n        this.intakeForm.value.soortCode ===\r\n          ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode)\r\n    ) {\r\n      this.toastr.info('Kies ten minste 1 product', 'Aanvraag bewaren');\r\n      valid = false;\r\n    }\r\n\r\n    var hasMain = false;\r\n    if (this.validateProducten()) {\r\n      for (var i = 0; i < this.intakeForm.value.producten.length; i++) {\r\n        if (this.intakeForm.value.producten[i].isHoofdcategorie) {\r\n          hasMain = true;\r\n        }\r\n      }\r\n      if (!hasMain) {\r\n        this.toastr.warning(\r\n          'Kies ten minste 1 hoofdproduct',\r\n          'Aanvraag bewaren'\r\n        );\r\n        valid = false;\r\n      }\r\n    }\r\n\r\n    if (!this.intakeForm.valid && !valid) this.intakeForm.markAsDirty();\r\n    else {\r\n      switch (this.intake.statusCode) {\r\n        case ApplicationConstants.AanvraagStatus.Intake:\r\n          this.preregistreren();\r\n          break;\r\n        case ApplicationConstants.AanvraagStatus.Gepreregistreerd:\r\n          this.registreren();\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  preregistreren() {\r\n    if (!this.validateDocuments())\r\n      this.toastr.info(\r\n        \"Kan aanvraag niet naar 'gepreregistreerd' zetten omdat de documenten nog niet in orde zijn.\"\r\n      );\r\n    else this.showPreregistratieModal();\r\n  }\r\n\r\n  registreren() {\r\n    var valid = true;\r\n    if (!this.validateDocuments()) {\r\n      this.toastr.info(\r\n        \"Kan aanvraag niet naar 'geregistreerd' zetten omdat de documenten nog niet in orde zijn.\"\r\n      );\r\n      valid = false;\r\n    }\r\n\r\n    if (\r\n      this.intakeForm.value.isBetaald == null ||\r\n      this.intakeForm.value.isBetaald === false\r\n    ) {\r\n      this.toastr.info(\r\n        \"Kan aanvraag niet naar 'geregistreerd' zetten omdat er nog niet betaald werd.\"\r\n      );\r\n      valid = false;\r\n    }\r\n\r\n    if (valid) this.showRegistratieModal();\r\n  }\r\n\r\n  setModus() {\r\n    this.directBewarenButton = this.auth.hasPermission(\r\n      Privilege.Aanvraag.DirectRegistreren\r\n    );\r\n    this.directBewarenButtonText = 'Direct registreren';\r\n    switch (this.intake.statusCode) {\r\n      case ApplicationConstants.AanvraagStatus.Intake:\r\n        if (this.intake.id === 0) {\r\n          this.title = 'Nieuw intake > ' + this.klant.firmanaam;\r\n        } else {\r\n          this.title = 'Intake bewerken > ' + this.intake.klant.firmanaam;\r\n          this.statusChangeButton = this.auth.hasPermission(\r\n            Privilege.Aanvraag.VeranderNaarGepreregistreerd\r\n          );\r\n          this.statusChangeButtonText = 'Pre-registreren';\r\n        }\r\n        this.bewaarButtonText = 'Intake bewaren';\r\n        this.bewaarButton = this.auth.hasPermission(Privilege.Aanvraag.Add);\r\n        break;\r\n      case ApplicationConstants.AanvraagStatus.Gepreregistreerd:\r\n        this.title =\r\n          'Pre-registratie bewerken > ' + this.intake.klant.firmanaam;\r\n        this.bewaarButtonText = 'Pre-registratie bewaren';\r\n        this.bewaarButton = this.auth.hasPermission(\r\n          Privilege.Aanvraag.PreregistratieBewerken\r\n        );\r\n        this.statusChangeButton = this.auth.hasPermission(\r\n          Privilege.Aanvraag.VeranderNaarGepreregistreerd\r\n        );\r\n        this.statusChangeButtonText = 'Registreren';\r\n        break;\r\n      case ApplicationConstants.AanvraagStatus.Geregistreerd:\r\n        this.geregistreerd = true;\r\n        this.title = 'Registratie bewerken > ' + this.intake.klant.firmanaam;\r\n        this.bewaarButtonText = 'Registratie bewaren';\r\n        this.bewaarButton = this.auth.hasPermission(\r\n          Privilege.Aanvraag.RegistratieBewerken\r\n        );\r\n        this.deleteButton = this.auth.hasPermission(\r\n          Privilege.Aanvraag.RegistratieVerwijderen\r\n        );\r\n        break;\r\n    }\r\n  }\r\n\r\n  showPreregistratieModal() {\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig pre-registratie')\r\n      .body('Bent u zeker dat u deze intake wilt pre-registreren?')\r\n      .okBtn('Bevestig')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties, let's just return the promise for a result.\r\n      .then((x) =>\r\n        this.aanvraagService\r\n          .changeStatus(\r\n            this.intake.id,\r\n            ApplicationConstants.AanvraagStatus.Gepreregistreerd,\r\n            this.intakeForm.getRawValue()\r\n          )\r\n          .subscribe(\r\n            (x) => {\r\n              this.router.navigate(['wachtlijst', 'preregistratie']);\r\n            },\r\n            (x) => {\r\n              this.toastr.error(\r\n                \"Kan aanvraag niet naar 'gepreregistreerd' zetten.\"\r\n              );\r\n              this.displayErrors(x);\r\n            }\r\n          )\r\n      ) // if we're here, ok was clicked.\r\n      .catch((x) => {}); // if we're here, cancel was clicked.\r\n  }\r\n\r\n  showRegistratieModal() {\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig registratie')\r\n      .body('Bent u zeker dat u deze pre-registratie wilt registreren?')\r\n      .okBtn('Bevestig')\r\n      .open()\r\n\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties, let's just return the promise for a result.\r\n      .then((x) =>\r\n        this.aanvraagService\r\n          .changeStatus(\r\n            this.intake.id,\r\n            ApplicationConstants.AanvraagStatus.Geregistreerd,\r\n            this.intakeForm.getRawValue()\r\n          )\r\n          .subscribe(\r\n            (x) => {\r\n              this.router.navigate(['wachtlijst', 'registratie']);\r\n            },\r\n            (x) => {\r\n              var error = 'de status kan niet veranderd worden.';\r\n              this.toastr.error('de status kan niet veranderd worden.');\r\n              if (this.toastr.error.length != error.length) {\r\n                this.displayErrors(x);\r\n              }\r\n            }\r\n          )\r\n      ) // if we're here, ok was clicked.\r\n      .catch((x) => {}); // if we're here, cancel was clicked.\r\n  }\r\n\r\n  showRegistratieDeleteModal() {\r\n    var currentDate = this.dateTimeHelper.getCurrentDate();\r\n    var text = '';\r\n\r\n    currentDate.setHours(0, 0, 0, 0);\r\n    var geldig =\r\n      this.intake.officieleInschrijvingsDatum != null &&\r\n      new Date(currentDate) <=\r\n        new Date(this.intake.officieleInschrijvingsDatum) &&\r\n      new Date(currentDate.setFullYear(currentDate.getFullYear() + 1)) >=\r\n        new Date(this.intake.officieleInschrijvingsDatum);\r\n\r\n    if (geldig) text += 'Het inschrijvingsrecht is nog steeds geldig. ';\r\n\r\n    text +=\r\n      'Weet u zeker dat u deze aanvraag wilt verwijderen? Deze actie is onomkeerbaard.';\r\n\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig verwijderen registratie')\r\n      .body(text.toString())\r\n      .okBtn('Bevestig')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties, let's just return the promise for a result.\r\n      .then((x) =>\r\n        this.aanvraagService.delete(this.intake.id).subscribe(\r\n          (x) => {\r\n            this.toastr.info('Registratie succesvol verwijderd');\r\n            this.router.navigate(['wachtlijst', 'registratie']);\r\n          },\r\n          (x) => {\r\n            this.toastr.error('Kon registratie niet verwijderen.');\r\n            this.displayErrors(x);\r\n          }\r\n        )\r\n      ) // if we're here, ok was clicked.\r\n      .catch((x) => {}); // if we're here, cancel was clicked.\r\n  }\r\n\r\n  showDirectModal() {\r\n    if (\r\n      this.intakeForm.value.aanvraagMarkten &&\r\n      this.intakeForm.value.aanvraagMarkten.length > 1\r\n    ) {\r\n      this.toastr.warning('Niet meer dan 1 aanvraagmarkt selecteren!');\r\n      return;\r\n    }\r\n\r\n    this.modal\r\n      .confirm()\r\n      .title('Direct registreren')\r\n      .body('Wilt u deze intake rechtstreeks omzetten naar een registratie?')\r\n      .okBtn('Bevestig')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties, let's just return the promise for a result.\r\n      .then((x) =>\r\n        this.aanvraagService\r\n          .changeStatus(\r\n            this.intake.id,\r\n            ApplicationConstants.AanvraagStatus.Geregistreerd,\r\n            this.intakeForm.getRawValue()\r\n          )\r\n          .subscribe(\r\n            (x) => {\r\n              this.router.navigate(['wachtlijst', 'registratie']);\r\n            },\r\n            (x) => {\r\n              this.toastr.error(\r\n                \"Kan aanvraag niet naar 'geregistreerd' zetten.\"\r\n              );\r\n              var error = 'de status kan niet veranderd worden.';\r\n              if (this.toastr.error.length != error.length) {\r\n                this.displayErrors(x);\r\n              }\r\n            }\r\n          )\r\n      ) // if we're here, ok was clicked.\r\n      .catch((x) => {}); // if we're here, cancel was clicked.\r\n  }\r\n  changeSoortCode($event) {\r\n    this.intakeForm.get('uitstallingCode').reset();\r\n    this.intakeForm.get('verkoopCode').reset();\r\n    this.intakeForm.get('elektriciteitCode').reset();\r\n    this.teBetalen = 0;\r\n    if (this.marktPanel) this.marktPanel.reset();\r\n    if (this.productPanel) this.productPanel.reset();\r\n\r\n    switch ($event) {\r\n      case ApplicationConstants.AanvraagSoort.NieuwePlaatsCode:\r\n        this.intakeForm.get('uitstallingCode').enable();\r\n        this.intakeForm.get('verkoopCode').enable();\r\n        this.intakeForm.get('elektriciteitCode').enable();\r\n        this.isRuiling = false;\r\n        this.maxKavels = 8;\r\n        break;\r\n      case ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode:\r\n        this.intakeForm.get('uitstallingCode').enable();\r\n        this.intakeForm.get('verkoopCode').enable();\r\n        this.intakeForm.get('elektriciteitCode').enable();\r\n        this.isRuiling = false;\r\n        if (!this.page) {\r\n          this.page.page = 1;\r\n          this.page.pageSize = Number.MAX_VALUE;\r\n          this.page.sort = [''];\r\n        }\r\n        this.abonnementSearchCriteria.klantId = this.klantId;\r\n        this.abonnementSearchCriteria.statusCode =\r\n          ApplicationConstants.AbonnementStatus.IngetrokkenCode;\r\n        this.abonnementService\r\n          .getAll(this.page, this.abonnementSearchCriteria)\r\n          .subscribe((abonnementen) => {\r\n            if (abonnementen.embedded.resourceList.length > 0) {\r\n              this.intakeForm\r\n                .get('uitstallingCode')\r\n                .setValue(\r\n                  abonnementen.embedded.resourceList[0].uitstallingCode\r\n                );\r\n              this.intakeForm\r\n                .get('verkoopCode')\r\n                .setValue(abonnementen.embedded.resourceList[0].verkoopCode);\r\n              this.intakeForm\r\n                .get('elektriciteitCode')\r\n                .setValue(\r\n                  abonnementen.embedded.resourceList[0].elektriciteitCode\r\n                );\r\n              this.maxKavels = 0;\r\n              for (let abonnement of abonnementen.embedded.resourceList) {\r\n                if (abonnement.aantalKavels > this.maxKavels)\r\n                  this.maxKavels = abonnement.aantalKavels;\r\n              }\r\n            } else {\r\n              this.toastr.info(\r\n                'Deze klant heeft geen ingetrokken abonnementen.'\r\n              );\r\n              this.intakeForm\r\n                .get('soortCode')\r\n                .setValue(ApplicationConstants.AanvraagSoort.NieuwePlaatsCode);\r\n            }\r\n          });\r\n        break;\r\n      default:\r\n        this.intakeForm.get('uitstallingCode').disable();\r\n        this.intakeForm.get('verkoopCode').disable();\r\n        this.intakeForm.get('elektriciteitCode').disable();\r\n        this.isRuiling = true;\r\n        this.maxKavels = 8;\r\n        break;\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    let valid = true;\r\n    if (!this.intakeForm.valid) {\r\n      this.toastr.warning(\r\n        'Sommige velden bevatten geen geldige waarden',\r\n        'Ongeldig formulier'\r\n      );\r\n      valid = false;\r\n    }\r\n\r\n    if (\r\n      this.intakeForm.value.aanvraagMarkten &&\r\n      this.intakeForm.value.aanvraagMarkten.length > 1\r\n    ) {\r\n      this.toastr.warning('Niet meer dan 1 aanvraagmarkt selecteren!');\r\n      valid = false;\r\n    }\r\n\r\n    if (\r\n      this.intake.soortCode !==\r\n      ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode\r\n    ) {\r\n      if (!this.validateMarkten() && this.intakeForm.get('soortCode').value) {\r\n        this.toastr.warning('Kies ten minste 1 markt', 'Aanvraag bewaren');\r\n        valid = false;\r\n      }\r\n    }\r\n\r\n    if (\r\n      !this.validateProducten() &&\r\n      (this.intakeForm.value.soortCode ===\r\n        ApplicationConstants.AanvraagSoort.NieuwePlaatsCode ||\r\n        this.intakeForm.value.soortCode ===\r\n          ApplicationConstants.AanvraagSoort.PlaatsKwijtgeraaktCode)\r\n    ) {\r\n      this.toastr.warning('Kies ten minste 1 product', 'Aanvraag bewaren');\r\n      valid = false;\r\n    }\r\n    var hasMain = false;\r\n\r\n    if (this.validateProducten()) {\r\n      for (var i = 0; i < this.intakeForm.value.producten.length; i++) {\r\n        if (this.intakeForm.value.producten[i].isHoofdcategorie) {\r\n          hasMain = true;\r\n        }\r\n      }\r\n\r\n      if (!hasMain) {\r\n        this.toastr.warning(\r\n          'Kies ten minste 1 hoofdproduct',\r\n          'Aanvraag bewaren'\r\n        );\r\n        valid = false;\r\n      }\r\n    }\r\n\r\n    if (!valid) {\r\n      this.validationService.valideFormGroup(this.intakeForm);\r\n      return;\r\n    }\r\n\r\n    this.aanvraagService\r\n      .save(this.intakeForm.getRawValue())\r\n      .pipe(\r\n        map((response: Response) => {\r\n          this.aanvraag = response;\r\n          this.intakeForm.patchValue({\r\n            id: this.intake.id,\r\n            soortCode: this.intake.soortCode,\r\n            uitstallingCode: this.intake.uitstallingCode,\r\n            verkoopCode: this.intake.verkoopCode,\r\n            elektriciteitCode: this.intake.elektriciteitCode,\r\n            opmerking: this.intake.opmerking,\r\n            isBetaald: this.intake.isBetaald,\r\n            isDocumentenOk: this.intake.isDocumentenOk,\r\n            isUitgesteld: this.intake.isUitgesteld,\r\n            officieleInschrijvingsDatum:\r\n              this.intake.officieleInschrijvingsDatum,\r\n            uitgesteldDatum: this.intake.uitgesteldDatum,\r\n            statusCode: this.intake.statusCode,\r\n            datum: this.intake.datum,\r\n          });\r\n        })\r\n      )\r\n      .subscribe(\r\n        () => {\r\n          this.toastr.success('Aanvraag succesvol bewaard', 'Aanvraag bewaren');\r\n          let route: string;\r\n          switch (this.intake.statusCode.toUpperCase()) {\r\n            case 'GEPREREGISTREERD':\r\n              route = 'preregistratie';\r\n              break;\r\n            case 'GEREGISTREERD':\r\n              route = 'registratie';\r\n              break;\r\n            case 'GERESERVEERD':\r\n              route = 'reservatie';\r\n              break;\r\n            default:\r\n              route = 'intake';\r\n              break;\r\n          }\r\n\r\n          this.router.navigate(['wachtlijst', route]);\r\n        },\r\n        (x) => {\r\n          this.toastr.error(\r\n            'Aanvraag kon niet worden bewaard.',\r\n            'Aanvraag bewaren'\r\n          );\r\n          this.displayErrors(x);\r\n        }\r\n      );\r\n  }\r\n\r\n  validateDocuments(): boolean {\r\n    return (\r\n      this.intakeForm.value && this.intakeForm.value.isDocumentenOk === true\r\n    );\r\n  }\r\n\r\n  validateMarkten(): boolean {\r\n    return (\r\n      this.intakeForm.value.aanvraagMarkten &&\r\n      this.intakeForm.value.aanvraagMarkten.length > 0\r\n    );\r\n  }\r\n\r\n  validateProducten(): boolean {\r\n    return (\r\n      this.intakeForm.value.producten &&\r\n      this.intakeForm.value.producten.length > 0\r\n    );\r\n  }\r\n\r\n  private displayErrors(x: any) {\r\n    if (x.ExtraInfo) {\r\n      for (let xtra in x.ExtraInfo) {\r\n        this.toastr.warning(x.ExtraInfo[xtra].join(','), xtra);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport interface IAbonnementSearchCriteria {\r\n  marktId?: number;\r\n  query?: string;\r\n  productId?: number;\r\n  verkoopCode?: string;\r\n  statusCode?: string;\r\n  beginDatum?: Date;\r\n  eindDatum?: Date;\r\n  klantId?: number;\r\n}\r\n","export class RequestPatchEvent {\r\n    public Type: string;\r\n    public Value: string;\r\n    public Request: any;\r\n\r\n    public constructor(init?: Partial<RequestPatchEvent>) {\r\n        Object.assign(this, init);\r\n    }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { AlertComponent } from \"./alert.component\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AlertComponent\r\n    ],\r\n    imports: [CommonModule, FormsModule],\r\n    exports: [AlertComponent]\r\n\r\n})\r\nexport class AlertModule {\r\n}","import { Component } from \"@angular/core\";\r\nimport { IQueryParameters, IPagedResult } from \"../core\";\r\nimport { IGridOptions, SortOrder } from \"../componenten/datagrid\";\r\nimport { ToastrService} from 'ngx-toastr';\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { MarktWachtlijstService } from \"../services/markt-wachtlijst.service\";\r\n\r\n@Component({\r\n    templateUrl: './html/wachtlijst-registratie.component.html'\r\n})\r\nexport class WachtlijstRegistratieComponent {\r\n    filter = {\r\n        query: \"\",\r\n        district: null,\r\n        toeTeWijzen: false,\r\n        wachtlijst: true\r\n    };\r\n    page: IQueryParameters;\r\n    data: IPagedResult<any>;\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [\r\n            {\r\n                field: \"district.code\",\r\n                title: \"District\",\r\n                sortable: true,\r\n                sort: SortOrder.Ascending\r\n            },\r\n            {\r\n                field: \"dagVanDeWeek.omschrijving\",\r\n                title: \"Weekdag\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"locatie.naam\",\r\n                title: \"Locatie\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"naam\",\r\n                title: \"Markt\",\r\n                sortable: true\r\n            }\r\n        ]\r\n    };\r\n\r\n    constructor(private marktWachtlijstService: MarktWachtlijstService,\r\n        private toastr: ToastrService,\r\n        private router: Router,\r\n        private route: ActivatedRoute) { }\r\n\r\n    private fetching: boolean\r\n\r\n    fetchData(page: IQueryParameters): void {\r\n        if (!this.page) this.page = page;\r\n        else {\r\n            this.page.page = page.page;\r\n            this.page.pageSize = page.pageSize;\r\n            this.page.sort = page.sort;\r\n        }\r\n\r\n        this.page[\"wachtlijst\"] = this.filter.wachtlijst;\r\n        this.page[\"toeTeWijzen\"] = this.filter.toeTeWijzen;\r\n        this.page[\"district\"] = this.filter.district;\r\n        this.page[\"query\"] = this.filter.query;\r\n        this.fetching = true;\r\n\r\n        this.marktWachtlijstService.getRegistratieWachtlijstOverizcht(this.page).subscribe((x: IPagedResult<any>) => {\r\n            this.data = x;\r\n            this.fetching = false;\r\n        }, error => {\r\n            this.toastr.error(\"Kon de registraties niet inladen\");\r\n            this.fetching = false;\r\n\r\n        });\r\n    };\r\n\r\n    rowClicked(row: any) {\r\n        this.router.navigate([\"wachtlijst\", \"registratie\", \"markt\", row.data.id]);\r\n    }\r\n\r\n    filterRegistraties($event): void {\r\n        if (this.page && this.fetching == false) {\r\n            this.page.page = 1;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n\r\n    districtChanged($event): void {\r\n        if (this.page && this.fetching == false) {\r\n            this.page.page = 1;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n\r\n    filterToeTeWijzen($event) {\r\n        if (this.page && this.fetching == false) {\r\n            this.page.page = 1;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n}","\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { Injectable } from \"@angular/core\";\r\nimport { AppSettings } from '../app.settings';\r\nimport { BaseService } from '../core';\r\nimport { Observable } from \"rxjs\";\r\nimport { IPagedResult, IQueryParameters } from \"../core\";\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class AanvraagMarktService extends BaseService {\r\n    private url = this.apiEndpoint + 'marketrequests/';\r\n\r\n    constructor(protected http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(http, loader);\r\n    }\r\n\r\n    getAll(query?: any): Observable<IPagedResult<any>> {\r\n        var params = new HttpParams();\r\n        if (query) {\r\n            params = params.set(\"page\", query.page.toString());\r\n            params = params.set(\"pageSize\", query.pageSize.toString());\r\n            if (query.filter) params = params.set(\"query.filter\", query.filter);\r\n            if (query.aanvraagstatuscode) params = params.set(\"query.aanvraagStatusCode\", query.aanvraagstatuscode);\r\n            if (query.hernieuwing) params = params.set(\"query.ishernieuwing\", query.hernieuwing);\r\n            if (query.sort && query.sort.length > 0) params = params.set(\"sort\", query.sort.join(\",\"));\r\n        }\r\n        this.loader.start();\r\n        return this.http.get<IPagedResult<any>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n}","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3 id=\\\"title-reservatie\\\">\\r\\n                    Reservaties\\r\\n                </h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-6\\\">\\r\\n                            <search (search)=\\\"searchReservaties($event)\\\"></search>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <hr />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                                <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <td [style.color]=\\\"item.weigeringstermijnGestart === true ? 'green' : 'red'\\\">\\r\\n                                        {{item.datum | date: 'dd/MM/yyyy'}}\\r\\n                                    </td>\\r\\n                                    <td [style.color]=\\\"item.weigeringstermijnGestart ? 'green' : 'red'\\\">{{item.ondernemingsNr| stringformat: 'xxxx.xxx.xxx'}}</td>\\r\\n                                    <td [style.color]=\\\"item.weigeringstermijnGestart ? 'green' : 'red'\\\">{{item.firmanaam}}</td>\\r\\n                                    <td [style.color]=\\\"item.weigeringstermijnGestart ? 'green' : 'red'\\\">\\r\\n                                        <code-display type=\\\"aanvraagsoort\\\" [value]=\\\"item.soort\\\"></code-display>\\r\\n                                    </td>\\r\\n                                    <td [style.color]=\\\"item.weigeringstermijnGestart ? 'green' : 'red'\\\">\\r\\n                                        <span class=\\\"markt-in-overview\\\"><span class=\\\"badge\\\">{{item.markten[0]}}</span></span>\\r\\n                                        <span *ngIf=\\\"item.markten.length > 1\\\" [attr.title]=\\\"marktenTooltip(item.markten)\\\"><span class=\\\"badge\\\">+{{item.markten.length-1}}</span></span>\\r\\n                                    </td>\\r\\n                                </ng-template>\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","import { Component, forwardRef, Input, Output, EventEmitter, ElementRef} from \"@angular/core\";\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs\";\r\nimport \"rxjs/add/observable/fromEvent\";\r\n\r\n\r\n@Component({\r\n    selector: \"alert\",\r\n    providers: [\r\n        { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => AlertComponent), multi: true }\r\n    ],\r\n    template: `\r\n        <div class=\"alert alert-warning alert-dismissible\" role=\"alert\"><i class=\"fa fa-warning\" > </i>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n            {{text}} \r\n            <strong *ngIf=\"strongtext\">{{strongtext}}</strong>\r\n        </div>\r\n    `\r\n})\r\nexport class AlertComponent {\r\n    @Input() text: string = \"\";\r\n    @Input() strongtext: string = \"\";\r\n}","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3><strong>Wachtlijst</strong></h3>\\r\\n                <h5>\\r\\n                    <i class=\\\"fa fa-map-marker\\\" aria-hidden=\\\"true\\\"></i>&nbsp;\\r\\n                    <code-display type=\\\"district\\\" [value]=\\\"markt.districtCode\\\"></code-display>&nbsp;&nbsp;\\r\\n                    <i class=\\\"fa fa-shopping-basket\\\" aria-hidden=\\\"true\\\"></i>&nbsp;\\r\\n                    <location-display [value]=\\\"markt.locatieId\\\"></location-display>&nbsp;&nbsp;\\r\\n                    <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>&nbsp;\\r\\n                    <code-display type=\\\"dagvandeweek\\\" [value]=\\\"markt.dagVanDeWeekCode\\\"></code-display>\\r\\n                </h5>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xs-12\\\">\\r\\n                        <dp-datagrid [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                            <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    <code-display type=\\\"AanvraagSoort\\\" [value]=\\\"item?.soortCode\\\"></code-display><span *ngIf=\\\"item.verkoopCode === 'DEMONSTREERDER'\\\">&nbsp;(Demo)</span>\\r\\n                                </td>\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    {{item.volgnummer + 1}}\\r\\n                                </td>\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    {{item.ondernemingsNummer| stringformat: 'xxxx.xxx.xxx'}}\\r\\n                                </td>\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    {{item.firmanaam}}\\r\\n                                </td>\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    {{item.UitgesteldDatum | nullSafe}}\\r\\n                                </td>\\r\\n                                <td [ngClass]=\\\"{'priority-item': item.priorityItem}\\\">\\r\\n                                    <span title=\\\"Aantal aangevraagde kavels\\\" class=\\\"badge\\\" [ngClass]=\\\"{'bg-red': item.toewijsbareKavels!=0}\\\">\\r\\n                                        {{item.aangevraagdeKavels}}\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                            </ng-template>\\r\\n                        </dp-datagrid>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div *ngIf=\\\"intake && intakeForm\\\">\\r\\n    <form [formGroup]=\\\"intakeForm\\\" ngNoForm autocomplete=\\\"off\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <alert *ngIf=\\\"intake.id > 0 && !intakeForm.get('isBetaald').value\\\" text=\\\"Inschrijvingsgeld aanvraag\\\" strongtext=\\\"nog niet betaald\\\"></alert>\\r\\n                <alert *ngIf=\\\"intake.id > 0 && !intakeForm.get('isDocumentenOk').value\\\" text=\\\"Documenten aanvraag\\\" strongtext=\\\"nog niet gecontroleerd\\\"></alert>\\r\\n\\r\\n                <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\" [edit]=\\\"!deleted\\\">\\r\\n                    <mafo-panel-heading>\\r\\n                        <h3 id=\\\"title-nieuwe-intake\\\">{{title}}\\r\\n                            <span class=\\\"badge pull-right\\\" style=\\\"margin: 2px; background-color: red\\\" *ngIf=\\\"deleted\\\">DELETED</span>\\r\\n                        </h3>\\r\\n\\r\\n                    </mafo-panel-heading>\\r\\n                    <mafo-panel-body>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <form-group label=\\\"Soort\\\">\\r\\n                                    <code-select type=\\\"Aanvraagsoort\\\" formControlName=\\\"soortCode\\\" (ngModelChange)=\\\"changeSoortCode($event)\\\"></code-select>\\r\\n                                    <help-block type=\\\"required\\\">Soort is vereist</help-block>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <form-group label=\\\"Uitstalling\\\">\\r\\n                                    <code-select type=\\\"Uitstalling\\\" formControlName=\\\"uitstallingCode\\\"></code-select>\\r\\n                                    <help-block type=\\\"required\\\">Uitstalling is vereist</help-block>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <form-group label=\\\"Verkoop\\\">\\r\\n                                    <code-select type=\\\"Verkoop\\\" formControlName=\\\"verkoopCode\\\"></code-select>\\r\\n                                    <help-block type=\\\"required\\\">Verkoop is vereist</help-block>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <form-group label=\\\"Elektriciteit\\\">\\r\\n                                    <code-select type=\\\"Elektriciteit\\\" formControlName=\\\"elektriciteitCode\\\"></code-select>\\r\\n                                    <help-block type=\\\"required\\\">Elektriciteit is vereist</help-block>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-xs-12\\\">\\r\\n                                <form-group label=\\\"Opmerkingen\\\">\\r\\n                                    <textarea id=\\\"opmerking-text-input\\\" class=\\\"form-control\\\" placeholder=\\\"Uitleg &amp; opmerkingen over deze aanvraag (optioneel)\\\" rows=\\\"5\\\" formControlName=\\\"opmerking\\\"></textarea>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </mafo-panel-body>\\r\\n                </mafo-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode || intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode || intakeForm.get('soortCode')?.value === aanvraagSoort.UitbreidingCode || intakeForm.get('soortCode')?.value === aanvraagSoort.RuilingCode\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <product-panel id=\\\"intake-product-section\\\"\\r\\n                    [formGroup]=\\\"intakeForm\\\"\\r\\n                    [data]=\\\"intake.producten\\\"\\r\\n                    [disabled]=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.UitbreidingCode || intakeForm.get('soortCode')?.value === aanvraagSoort.RuilingCode\\\"\\r\\n                    [componentsDisabled]=\\\"deleted\\\">\\r\\n                </product-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <markt-panel id=\\\"intake-markt-section\\\"\\r\\n                    [type]=\\\"intakeForm.get('soortCode')?.value\\\"\\r\\n                    [max]=\\\"1\\\"\\r\\n                    [disabled]=\\\"!intakeForm.get('soortCode')?.value || geregistreerd\\\"\\r\\n                    [klantId]=\\\"klantId\\\"\\r\\n                    [aanvraagId]=\\\"intake.id\\\"\\r\\n                    [formGroup]=\\\"intakeForm\\\"\\r\\n                    [data]=\\\"intake.aanvraagMarkten\\\"\\r\\n                    (onChange)=\\\"marktenChanged($event)\\\"\\r\\n                    [componentsDisabled]=\\\"deleted || marktDisabled\\\"\\r\\n                    [maxKavels]=\\\"maxKavels\\\">\\r\\n                </markt-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <dp-document-panel id=\\\"intake-documenten-section\\\" [klantId]=\\\"klantId\\\" [componentsDisabled]=\\\"deleted\\\"></dp-document-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <mafo-panel id=\\\"intake-tebetalen-section\\\" selector=\\\"tebetalen\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                    <mafo-panel-heading>\\r\\n                        <h5>\\r\\n                            TE BETALEN\\r\\n                        </h5>\\r\\n                    </mafo-panel-heading>\\r\\n                    <mafo-panel-body>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode\\\">\\r\\n                                Nieuwe Plaats aanvraag\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode\\\">\\r\\n                                Nieuwe Plaats kwijtgeraakt aanvraag\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.RuilingCode\\\">\\r\\n                                Nieuwe Ruiling aanvraag\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\"*ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.UitbreidingCode\\\">\\r\\n                                Nieuwe Uitbreiding aanvraag\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6 pull-right\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode || intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode\\\">\\r\\n                                5 / kavel\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6 pull-right\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.RuilingCode || intakeForm.get('soortCode')?.value === aanvraagSoort.UitbreidingCode\\\">\\r\\n                                5 / markt\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <hr *ngIf=\\\"intakeForm.get('soortCode')?.value\\\"/>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                Aantal kavels\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6 pull-right\\\">\\r\\n                                {{aantalKavels}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <hr />\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                Totaal te betalen\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6 pull-right\\\">\\r\\n                                {{teBetalen}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <hr />\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <strong>Betaling ontvangen</strong>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <div class=\\\"pull-right\\\">\\r\\n                                    <dp-slider id=\\\"betaling-ontvangen-checkbox\\\" formControlName=\\\"isBetaald\\\" (ngModelChange)=\\\"isBetaaldChanged($event)\\\"></dp-slider>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"intakeForm.get('isBetaald').value\\\">\\r\\n                            <hr />\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-md-10\\\">\\r\\n                                    <strong>Betalingsdatum</strong>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-md-2\\\">\\r\\n                                    <div class=\\\"pull-right\\\">\\r\\n                                        <datepicker id=\\\"betalingsdatum-datepicker\\\" formControlName=\\\"officieleInschrijvingsDatum\\\"></datepicker>                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-12\\\"><hr></div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <strong>Documenten nagekeken</strong>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6 pull-right\\\">\\r\\n                                <div class=\\\"pull-right\\\">\\r\\n                                    <dp-slider id=\\\"documenten-nagekeken-checkbox\\\" formControlName=\\\"isDocumentenOk\\\"></dp-slider>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-12\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode || intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode\\\"><hr></div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\" *ngIf=\\\"intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode || intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode\\\">\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <strong>Uitgestelde toewijzing</strong>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-md-6\\\">\\r\\n                                <div class=\\\"pull-right\\\">\\r\\n                                    <dp-slider formControlName=\\\"isUitgesteld\\\"></dp-slider>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"intakeForm.get('isUitgesteld').value && (intakeForm.get('soortCode')?.value === aanvraagSoort.NieuwePlaatsCode || intakeForm.get('soortCode')?.value === aanvraagSoort.PlaatsKwijtgeraaktCode)\\\">\\r\\n                            <div class=\\\"col-md-12\\\"><hr></div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-md-10\\\">\\r\\n                                    <strong>Uitgesteld tot</strong>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-md-2\\\">\\r\\n                                    <div class=\\\"pull-right\\\">\\r\\n                                        <datepicker formControlName=\\\"uitgesteldDatum\\\"></datepicker>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </mafo-panel-body>\\r\\n                </mafo-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <div class=\\\"pull-right\\\">\\r\\n                    <button *ngIf=\\\"(deleteButton | async) && !deleted\\\" type=\\\"submit\\\" class=\\\"btn btn-danger\\\" (click)=\\\"showRegistratieDeleteModal()\\\">Registratie verwijderen</button>\\r\\n                    <button *ngIf=\\\"(bewaarButton | async) && !deleted\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"onSubmit()\\\">{{bewaarButtonText}}</button>\\r\\n                    <button *ngIf=\\\"(statusChangeButton | async) && !deleted\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"statusChange()\\\">{{statusChangeButtonText}}</button>\\r\\n                    <button id=\\\"direct-registreren-button\\\" *ngIf=\\\"(directBewarenButton | async) && !deleted\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"showDirectModal()\\\">{{directBewarenButtonText}}</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\"","\r\nimport { throwError as observableThrowError, Observable } from 'rxjs';\r\n\r\nimport { tap, map, catchError } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { RequestPatchEvent } from './aanvraag'\r\nimport { AppSettings } from '../app.settings';\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { BaseService, IPagedResult } from \"../core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { ApplicationConstants } from \"../core\";\r\nimport \"rxjs/add/observable/throw\";\r\n\r\n@Injectable()\r\nexport class AanvraagService extends BaseService {\r\n    private url = this.apiEndpoint + \"requests/\";\r\n\r\n    constructor(protected _http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(_http, loader);\r\n    }\r\n\r\n    getAll(query?: any): Observable<IPagedResult<any>> {\r\n        var params = this.registerDefaultParameters(query);\r\n        if (query) {\r\n            if (query.aanvraagstatuscode) params.set(\"query.aanvraagStatusCode\", query.aanvraagstatuscode);\r\n        }\r\n        this.loader.start();\r\n        return this._http.get<IPagedResult<any>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n\r\n    get(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this.http.get<any[]>(this.url + id, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError))\r\n    }\r\n\r\n    save(aanvraag: any): Observable<any> {\r\n        this.loader.start();\r\n        const toAdd = JSON.stringify(aanvraag);\r\n        const action: Observable<any> = aanvraag.id && aanvraag.id > 0\r\n            ? this.http.put(this.url + aanvraag.id, toAdd, { headers: this.jsonHeaders })\r\n            : this.http.post(this.url, toAdd, { headers: this.jsonHeaders });\r\n        return action.pipe(tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    patchDatumLaatsteHernieuwing(id: number, datumLaatsteHernieuwing: Date): Observable<any> {\r\n        this.loader.start();\r\n        return this.http.patch(this.url + id, new RequestPatchEvent({ Type: ApplicationConstants.AanvraagPatchType.Renewaldate, Value: datumLaatsteHernieuwing.toUTCString() }), { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    changeStatus(id: number, status: string, aanvraag: any): Observable<any> {\r\n        this.loader.start();\r\n        // change to pre-registratie\r\n        if (status === ApplicationConstants.AanvraagStatus.Gepreregistreerd)\r\n            return this._http.patch(this.url + id, new RequestPatchEvent({ Type: ApplicationConstants.AanvraagPatchType.Status, Value: ApplicationConstants.AanvraagStatus.Gepreregistreerd, Request: aanvraag }), { headers: this.jsonHeaders }).pipe(\r\n                tap(x => this.loader.complete()),\r\n                map(x => { return { result: true }; }),\r\n                catchError(this.handleError));\r\n\r\n        //change to registratie\r\n        if (status === ApplicationConstants.AanvraagStatus.Geregistreerd)\r\n            return this._http.patch(this.url + id, new RequestPatchEvent({ Type: ApplicationConstants.AanvraagPatchType.Status, Value: ApplicationConstants.AanvraagStatus.Geregistreerd, Request: aanvraag }), { headers: this.jsonHeaders }).pipe(\r\n                tap(x => this.loader.complete()),\r\n                map(x => { return { result: true }; }),\r\n                catchError(this.handleError));\r\n\r\n\r\n        this.loader.complete();\r\n        return observableThrowError({ result: false });\r\n    }\r\n    delete(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.delete(this.url + id, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n}","import { Route } from \"@angular/router\";\r\nimport { WachtlijstIntakeComponent } from \"./wachtlijst-intake.component\";\r\nimport { WachtlijstIntakeViewComponent } from \"./wachtlijst-intake-view.component\";\r\nimport { WachtlijstIntakeDetailComponent } from \"./wachtlijst-intake-detail.component\";\r\nimport { WachtlijstIntakeKlantComponent } from \"./wachtlijst-intake-klant.component\";\r\nimport { WachtlijstRegistratieComponent } from \"./wachtlijst-registratie.component\";\r\nimport { WachtlijstRegistratieMarktComponent } from \"./wachtlijst-registratie.markt.component\";\r\nimport { WachtlijstReservatieComponent } from \"./wachtlijst-reservatie.component\";\r\nimport { WachtlijstHernieuwingInschrijvingComponent } from \"./wachtlijst-hernieuwing-inschrijving.component\";\r\nimport { WachtlijstResolve } from \"./wachtlijst.resolve\";\r\nimport { KlantResolve } from \"../klant/klant.resolve\";\r\nimport { AuthGuard, Privilege } from \"../auth\";\r\nimport { MarktResolve } from \"../markt/markt.resolve\";\r\n\r\nexport const wachtlijstComponents: any[] = [\r\n    WachtlijstIntakeComponent,\r\n    WachtlijstIntakeViewComponent,\r\n    WachtlijstIntakeDetailComponent,\r\n    WachtlijstIntakeKlantComponent,\r\n    WachtlijstRegistratieComponent,\r\n    WachtlijstRegistratieMarktComponent,\r\n    WachtlijstReservatieComponent,\r\n    WachtlijstHernieuwingInschrijvingComponent\r\n];\r\n\r\nexport const wachtlijstDirectives: any[] = [];\r\n\r\nexport const wachtlijstPipes: any[] = [];\r\n\r\nexport const routes: Route[] = [\r\n    {\r\n        path: \"intake\",\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: WachtlijstIntakeComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    intake: true,\r\n                    privileges: [Privilege.Aanvraag.Get]\r\n                }\r\n            },\r\n            {\r\n                path: \"klant\",\r\n                component: WachtlijstIntakeKlantComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [\r\n                        Privilege.Klant.GetAllFilteredAndPaged,\r\n                        Privilege.Klant.GetCommerciele,\r\n                        Privilege.Klant.GetNietCommerciele]\r\n                }\r\n            },\r\n            {\r\n                path: \"nieuw/:id\",\r\n                component: WachtlijstIntakeDetailComponent,\r\n                resolve: {\r\n                    klant: KlantResolve\r\n                },\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.Get, Privilege.Klant.Get]\r\n                }\r\n            },\r\n            {\r\n                path: \":id\",\r\n                children: [\r\n                    {\r\n                        path: \"\",\r\n                        component: WachtlijstIntakeViewComponent,\r\n                        resolve: {\r\n                            aanvraag: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.Get]\r\n                        }\r\n                    },\r\n                    {\r\n                        path: \"edit\",\r\n                        component: WachtlijstIntakeDetailComponent,\r\n                        resolve: {\r\n                            intake: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.Get, Privilege.Aanvraag.Update]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n    ,\r\n    {\r\n        path: \"preregistratie\",\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: WachtlijstIntakeComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    intake: false,\r\n                    privileges: [Privilege.Aanvraag.GetAllByStatusFilteredAndPaged]\r\n                }\r\n            },\r\n            {\r\n                path: \":id\",\r\n                children: [\r\n                    {\r\n                        path: \"\",\r\n                        component: WachtlijstIntakeViewComponent,\r\n                        resolve: {\r\n                            aanvraag: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.Get]\r\n                        }\r\n                    },\r\n                    {\r\n                        path: \"edit\",\r\n                        component: WachtlijstIntakeDetailComponent,\r\n                        resolve: {\r\n                            intake: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.PreregistratieBewerken]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }, {\r\n        path: \"registratie\",\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: WachtlijstRegistratieComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.GetAllByStatusFilteredAndPaged]\r\n                }\r\n            }, {\r\n                path: \"markt/:id\",\r\n                component: WachtlijstRegistratieMarktComponent,\r\n                canActivate: [AuthGuard],\r\n                resolve: {\r\n                    markt: MarktResolve\r\n                },\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.GetAllByStatusFilteredAndPaged]\r\n                }\r\n            }, {\r\n                path: \":id\",\r\n                children: [\r\n                    {\r\n                        path: \"\",\r\n                        component: WachtlijstIntakeViewComponent,\r\n                        resolve: {\r\n                            aanvraag: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.Get]\r\n                        }\r\n                    },\r\n                    {\r\n                        path: \"edit\",\r\n                        component: WachtlijstIntakeDetailComponent,\r\n                        resolve: {\r\n                            intake: WachtlijstResolve\r\n                        },\r\n                        canActivate: [AuthGuard],\r\n                        data: {\r\n                            privileges: [Privilege.Aanvraag.RegistratieBewerken]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }, {\r\n        path: \"reservatie\",\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: WachtlijstReservatieComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.GetAllByStatusFilteredAndPaged]\r\n                }\r\n            },\r\n            {\r\n                path: \":id\",\r\n                component: WachtlijstIntakeViewComponent,\r\n                resolve: {\r\n                    aanvraag: WachtlijstResolve\r\n                },\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.Get]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n    ,\r\n    {\r\n        path: \"hernieuwinginschrijving\",\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: WachtlijstHernieuwingInschrijvingComponent,\r\n                canActivate: [AuthGuard],\r\n                data: {\r\n                    privileges: [Privilege.Aanvraag.Update]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n];","module.exports = \"<div *ngIf=\\\"intake\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h3 id=\\\"title-wachtlijst-intake-detail\\\"><span class=\\\"fa fa-list-alt\\\"></span>&nbsp;{{pageTitle}}</h3>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-actions>\\r\\n                    <a id=\\\"bewerk-intake-button\\\" *ngIf=\\\"!reservatie &&(updateAanvraag | async) && !deleted && !stopgezet\\\" class=\\\"btn btn-primary\\\" routerLink={{routerlink}}>\\r\\n                        <i class=\\\"fa fa-pencil\\\"></i>\\r\\n                        <span>&nbsp;&nbsp;Bewerk</span>\\r\\n                    </a>\\r\\n                </mafo-panel-actions>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel id=\\\"registratie-wachtlijst-klant-section\\\" selector=\\\"klant\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>KLANT</h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-body>\\r\\n                    <div class=\\\"row pointercursor\\\" routerLink=\\\"/klant/{{intake.klant.id}}\\\">\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            {{intake.klant.ondernemingsnr}}\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <strong>{{intake.klant.firmanaam}}</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <div *ngIf=\\\"intake.klant.contactPersoon\\\">\\r\\n                                <strong>{{intake.klant.contactPersoon}}</strong>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-2\\\">\\r\\n                            <i class=\\\"fa fa-phone-square\\\"></i>\\r\\n                            &nbsp;&nbsp;\\r\\n                            <span *ngIf=\\\"hoofdcontactPersoon\\\" class=\\\"marked-text\\\">{{intake.klant.telefoon}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-1\\\">\\r\\n                            <i class=\\\"fa fa-angle-right pull-right\\\"></i>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel id=\\\"registratie-wachtlijst-aanvraag-section\\\" selector=\\\"aanvraag\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>AANVRAAG</h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-actions>\\r\\n                    <span class=\\\"badge pull-right\\\" style=\\\"margin: 2px;\\\">{{status}}</span>\\r\\n                    <span class=\\\"badge pull-right\\\" style=\\\"margin: 2px; background-color: red\\\" *ngIf=\\\"deleted\\\">DELETED</span>\\r\\n                </mafo-panel-actions>\\r\\n                <mafo-panel-body>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Datum Intake</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            {{intake.datum | date: 'dd/MM/yyyy'}}\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Officile Inschrijvingsdatum</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            {{intake.officieleInschrijvingsDatum | date: 'dd/MM/yyyy'}}\\r\\n                        </div>  \\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-12\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Type</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <code-display type=\\\"Aanvraagsoort\\\" [value]=\\\"intake.soortCode\\\"></code-display>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Soort Uitstalling</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <code-display type=\\\"Uitstalling\\\" [value]=\\\"intake.uitstallingCode\\\"></code-display>\\r\\n                        </div>                   \\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-12\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Verkoop</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <code-display type=\\\"Verkoop\\\" [value]=\\\"intake.verkoopCode\\\"></code-display>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <strong>Elektriciteit</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <code-display type=\\\"Elektriciteit\\\" [value]=\\\"intake.elektriciteitCode\\\"></code-display>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <product-panel id=\\\"registratie-wachtlijst-producten-section\\\" [data]=\\\"intake.producten\\\" [collapsable]=\\\"false\\\" [edit]=\\\"false\\\" [open]=\\\"true\\\"></product-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <mafo-panel id=\\\"registratie-wachtlijst-markt-section\\\" selector=\\\"markt\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                <mafo-panel-heading>\\r\\n                    <h5>\\r\\n                        MARKT\\r\\n                    </h5>\\r\\n                </mafo-panel-heading>\\r\\n                <mafo-panel-body>\\r\\n                    <div *ngIf=\\\"aanvraagMarkten\\\">\\r\\n                        <div *ngFor=\\\"let aanvraagMarkt of aanvraagMarkten; let i=index; trackBy:i\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-sm-3 marked-text\\\">\\r\\n                                    <form-group>\\r\\n                                        {{aanvraagMarkt.naam}}&nbsp;({{aanvraagMarkt.afkorting}})\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-sm-3\\\">\\r\\n                                    <form-group>\\r\\n                                        {{aanvraagMarkt.aantalKavels}} {{aanvraagMarkt.aantalKavels > 1 ? \\\"kavels\\\" : \\\"kavel\\\"}}\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-sm-6\\\">\\r\\n                                    <form-group>\\r\\n                                        <div class=\\\"pull-right\\\">\\r\\n                                            <button id=\\\"kavels-toewijzen-button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"showKavel(aanvraagMarkt)\\\" [disabled]=\\\"kavelsToewijzenEdit\\\" *ngIf=\\\"(intake.statusCode === aanvraagStatus.Geregistreerd && !deleted && !stopgezet && !toegewezen) && ((aanvraagMarkt.toewijsbareKavels > 0) || (aanvraagMarkt.toewijsbareKavels == 0 && (toewijzenAanvragenNietInAanmerking | async)) )\\\">Kavels toewijzen</button>\\r\\n                                            <a class=\\\"btn btn-primary\\\" routerLink=\\\"/markt/{{aanvraagMarkt.marktId}}\\\">\\r\\n                                                <i class=\\\"fa fa-angle-right pull-right\\\"></i>\\r\\n                                            </a>\\r\\n                                        </div>\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"aanvraagMarkt.kavels\\\">\\r\\n                                <div class=\\\"col-xs-12\\\">\\r\\n                                    <br />\\r\\n                                    <mafo-panel [collapsable]=\\\"true\\\" [open]=\\\"true\\\">\\r\\n                                        <mafo-panel-heading >\\r\\n                                            <h5>\\r\\n                                                Kavels\\r\\n                                            </h5>\\r\\n                                        </mafo-panel-heading>\\r\\n                                        <mafo-panel-body>\\r\\n                                            <div *ngIf=\\\"kavelsLoading\\\" [class.ajax-loading]=\\\"kavelsLoading\\\" style=\\\"height:50px\\\"></div>\\r\\n                                            <div class=\\\"row\\\" >\\r\\n                                                <div class=\\\"col-xs-12\\\">\\r\\n                                                    <a *ngFor=\\\"let kavel of kavelObservables\\\" class=\\\"kavel-detail\\\" (click)=\\\"selectKavel($event, aanvraagMarkt, kavel)\\\">\\r\\n                                                        <span class=\\\"badge large\\\" [ngClass]=\\\"setKavelColor(kavel)\\\" style=\\\"margin: 2px;\\\">{{kavel.oudeNaam}}</span>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </mafo-panel-body>\\r\\n                                        <mafo-panel-footer>\\r\\n                                            <div class=\\\"pull-right\\\">\\r\\n                                                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"kavelsToewijzen(aanvraagMarkt)\\\" [disabled]=\\\"assigningKavelsLoading\\\">Bevestigen</button>\\r\\n                                                <button type=\\\"reset\\\" class=\\\"btn btn-default\\\" (click)=\\\"cancelSelectKavels(aanvraagMarkt)\\\">Annuleren</button>\\r\\n                                            </div>\\r\\n                                        </mafo-panel-footer>\\r\\n                                    </mafo-panel>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <hr *ngIf=\\\"i < aanvraagMarkten.length - 1\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </mafo-panel-body>\\r\\n            </mafo-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"reservatie\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <mafo-panel selector=\\\"weigeringen\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n                    <mafo-panel-heading>\\r\\n                        <h5>Weigeringstermijnen</h5>\\r\\n                    </mafo-panel-heading>\\r\\n                    <mafo-panel-actions>\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" *ngIf=\\\"!startWeigeringendisplay && !sluitWeigeringAfDisplay && kanWeigeringStarten\\\" (click)=\\\"startWeigeringen()\\\">Weigeringstermijn starten</button>\\r\\n                    </mafo-panel-actions>\\r\\n                    <mafo-panel-body>\\r\\n                        <dp-datagrid [data]=\\\"dataWeigering\\\" [options]=\\\"gridWeigeringOptions\\\" (fetchData)=\\\"fetchWeigeringData($event)\\\" *ngIf=\\\"!startWeigeringendisplay && !sluitWeigeringAfDisplay\\\">\\r\\n                            <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                <td>\\r\\n                                    Termijn {{index + 1}}\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    {{item.startDatum | date: 'dd/MM/yyyy'}}\\r\\n                                </td>\\r\\n                                <td>{{item.weigeringsDatum | date: 'dd/MM/yyyy'}}</td>\\r\\n                                <td>{{item.motivatie}}</td>\\r\\n                            </ng-template>\\r\\n                            <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                <button title=\\\"Weigering registreren\\\" class=\\\"btn btn-primary btn-xs\\\" (click)=\\\"afsluitenWeigering(item.id)\\\" *ngIf=\\\"!item.weigeringsDatum\\\">\\r\\n                                    <i class=\\\"fa fa-registered\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                                </button>\\r\\n                                <button title=\\\"Weigering annuleren\\\" class=\\\"btn btn-danger btn-xs\\\" (click)=\\\"annuleerWeigeringsTermijn(item.id)\\\" *ngIf=\\\"!item.weigeringsDatum\\\">\\r\\n                                    <i class=\\\"fa fa-ban\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                                </button>\\r\\n                            </ng-template>\\r\\n                        </dp-datagrid>\\r\\n                        <form [formGroup]=\\\"weigeringForm\\\" *ngIf=\\\"startWeigeringendisplay || sluitWeigeringAfDisplay\\\" (ngSubmit)=\\\"submitWeigering($event)\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-xs-12\\\">\\r\\n                                    <h6>Weigeringstermijn starten</h6>\\r\\n                                    <hr />\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"startWeigeringendisplay\\\">\\r\\n                                <div class=\\\"col-md-6\\\">\\r\\n                                    <form-group label=\\\"Startdatum weigeringstermijn\\\">\\r\\n                                        <datepicker formControlName=\\\"startDatum\\\" startDate=\\\"-30d\\\" (ngModelChange)=\\\"changeDate($event)\\\"></datepicker>\\r\\n                                        <help-block type=\\\"required\\\">Startdatum weigeringstermijn is vereist</help-block>\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-md-6\\\">\\r\\n                                    <form-group label=\\\"Einddatum weigeringstermijn\\\">\\r\\n                                        <datepicker formControlName=\\\"eindDatum\\\"></datepicker>\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"sluitWeigeringAfDisplay\\\">\\r\\n                                <div class=\\\"col-md-6\\\">\\r\\n                                    <form-group label=\\\"Weigeringsdatum\\\">\\r\\n                                        <datepicker formControlName=\\\"weigeringsDatum\\\"></datepicker>\\r\\n                                        <help-block type=\\\"required\\\">Weigeringsdatum weigeringstermijn is vereist</help-block>\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-md-6\\\">\\r\\n                                    <form-group label=\\\"Motivatie\\\">\\r\\n                                        <textarea class=\\\"form-control\\\" rows=\\\"5\\\" formControlName=\\\"motivatie\\\"></textarea>\\r\\n                                    </form-group>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"pull-right\\\" *ngIf=\\\"startWeigeringendisplay || sluitWeigeringAfDisplay\\\">\\r\\n                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Bewaren</button>\\r\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"cancelWeigering()\\\">Annuleren</button>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </mafo-panel-body>\\r\\n                </mafo-panel>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { IntakeService } from \"../services/intake.service\";\r\n\r\n@Injectable()\r\nexport class WachtlijstResolve implements Resolve<any> {\r\n\r\n    constructor(private intakeService: IntakeService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot): any {\r\n        return this.intakeService.get(route.params['id']);\r\n    }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from \"@angular/core\";\r\nimport { SharedModule } from \"../shared/shared.module\";\r\nimport { CommonModule, DatePipe } from \"@angular/common\";\r\nimport { ServiceModule } from \"../services\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { routes, wachtlijstComponents, wachtlijstDirectives, wachtlijstPipes } from \"./wachtlijst.module.definitions\"\r\nimport { SearchModule } from \"../componenten/search\";\r\nimport { CodeSelectModule } from \"../componenten/code-select\";\r\nimport { WachtlijstResolve } from \"./wachtlijst.resolve\";\r\nimport { IntakeService } from \"../services/intake.service\";\r\nimport { KlantService } from \"../componenten/klant-core\";\r\nimport { KlantResolve } from \"../klant/klant.resolve\";\r\nimport { AanvraagWeigeringService } from \"../services/aanvraag-weigering.service\";\r\nimport { AanvraagService } from \"../services/aanvraag.service\";\r\nimport { AanvraagMarktService } from \"../services/aanvraag-markt.service\";\r\nimport { ProductSelectModule } from \"../componenten/product-select\";\r\nimport { DateTimePickerhModule } from \"../componenten/datetimepicker\";\r\nimport { AlertModule } from \"../componenten/alert/alert.module\";\r\nimport { AuthGuard } from \"../auth\";\r\nimport { DocumentUploadModule } from \"../componenten/document-upload\";\r\nimport { DateTimeHelper } from \"../shared/helper/datetimehelper\";\r\nimport { MarktSelectModule, MarktService } from \"../componenten/markt-select\";\r\nimport { MarktResolve } from \"../markt/markt.resolve\";\r\nimport { LocatieSelectModule } from \"../componenten/location-select\";\r\nimport { ValidatorsModule } from \"../componenten/validators\";\r\nimport { MarktWachtlijstService } from \"../services/markt-wachtlijst.service\";\r\n\r\n@NgModule({\r\n    imports: [\r\n        SharedModule,\r\n        ServiceModule,\r\n        CommonModule,\r\n        SearchModule,\r\n        CodeSelectModule,\r\n        ProductSelectModule,\r\n        DateTimePickerhModule,\r\n        AlertModule,\r\n        DocumentUploadModule,\r\n        RouterModule.forChild([...routes]),\r\n        MarktSelectModule,\r\n        LocatieSelectModule,\r\n        ValidatorsModule\r\n    ],\r\n    providers: [\r\n        WachtlijstResolve,\r\n        IntakeService,\r\n        KlantService,\r\n        MarktService, ,\r\n        MarktWachtlijstService,\r\n        KlantResolve,\r\n        AanvraagWeigeringService,\r\n        DatePipe,\r\n        AanvraagService,\r\n        AanvraagMarktService,\r\n        AuthGuard,\r\n        DateTimeHelper,\r\n        MarktResolve\r\n    ],\r\n    declarations:\r\n    [\r\n        ...wachtlijstComponents\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class WachtlijstModule { } ","import { Component } from \"@angular/core\";\r\nimport { MarktService } from \"../componenten/markt-select\";\r\nimport { IQueryParameters, IPagedResult } from \"../core\";\r\nimport { IGridOptions, SortOrder } from \"../componenten/datagrid\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { IntakeService } from \"../services/intake.service\";\r\n\r\n@Component({\r\n    selector: 'mafo-app',\r\n    templateUrl: './html/wachtlijst-reservatie.component.html'\r\n})\r\n\r\nexport class WachtlijstReservatieComponent {\r\n    page: IQueryParameters;\r\n    data: IPagedResult<any>;\r\n    errorMessage: any;\r\n    search: string;\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [\r\n            {\r\n                field: \"datum\",\r\n                title: \"Datum\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"ondernemingsNr\",\r\n                title: \"OndernemingsNr\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"firmanaam\",\r\n                title: \"Firmanaam\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"soort\",\r\n                title: \"Soort\",\r\n                sortable: true\r\n            },\r\n            {\r\n                field: \"markten\",\r\n                title: \"Markten\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    constructor\r\n        (\r\n        private intakeService: IntakeService,\r\n        private router: Router,\r\n        private route: ActivatedRoute\r\n    ) { }\r\n\r\n    searchReservaties($event): void {\r\n        if (this.page) {\r\n            this.page.page = 1;\r\n            this.page[\"filter\"] = $event.value;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n\r\n    rowClicked(row: any) {\r\n        this.router.navigate([\"wachtlijst\", \"reservatie\", row.data.id]);\r\n    }\r\n\r\n    fetchData(page: IQueryParameters): void {\r\n        if (!this.page) this.page = page;\r\n        else {\r\n            this.page.page = page.page;\r\n            this.page.pageSize = page.pageSize;\r\n            this.page.sort = page.sort;\r\n        }\r\n        this.page[\"aanvraagstatuscode\"] = \"GERESERVEERD\";\r\n        this.intakeService.getAll(this.page).subscribe(x => {\r\n            this.data = x;\r\n        });\r\n    }\r\n\r\n    marktenTooltip(markten: Array<string>): string {\r\n        var first = markten.shift();\r\n        var result = markten.join(\", \");\r\n        markten.unshift(first);\r\n        return result;\r\n    }\r\n}","import { Component } from '@angular/core';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { IGridOptions, SortOrder } from '../componenten/datagrid';\r\nimport { IPagedResult, IQueryParameters } from '../core';\r\nimport { AanvraagMarktService } from '../services/aanvraag-markt.service';\r\nimport { AanvraagService } from '../services/aanvraag.service';\r\n\r\n@Component({\r\n  selector: 'mafo-app',\r\n  templateUrl: './html/wachtlijst-hernieuwing-inschrijving.component.html',\r\n})\r\nexport class WachtlijstHernieuwingInschrijvingComponent {\r\n  page: IQueryParameters;\r\n  data: IPagedResult<any>;\r\n  aanvraag: any;\r\n\r\n  gridOptions: IGridOptions = {\r\n    stripedRows: true,\r\n    fields: [\r\n      {\r\n        field: 'klant.firmanaam',\r\n        title: 'Firmanaam',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'klant.ondernemingsNr',\r\n        title: 'OndernemingsNr',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'markt.naam',\r\n        title: 'Markt',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'datumLaatsteHernieuwing',\r\n        title: 'Vervaldag inschrijving',\r\n        sortable: true,\r\n        sort: SortOrder.Ascending,\r\n      },\r\n    ],\r\n  };\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private aanvraagMarktService: AanvraagMarktService,\r\n    private aanvraagService: AanvraagService,\r\n    private modal: Modal\r\n  ) {}\r\n\r\n  fetchData(page: IQueryParameters): void {\r\n    if (!this.page) this.page = page;\r\n    else {\r\n      this.page.page = page.page;\r\n      this.page.pageSize = page.pageSize;\r\n      this.page.sort = page.sort;\r\n    }\r\n    this.page['hernieuwing'] = true;\r\n    this.aanvraagMarktService.getAll(this.page).subscribe(\r\n      (x) => {\r\n        this.data = x;\r\n      },\r\n      (x) => alert('error')\r\n    );\r\n  }\r\n\r\n  berekenVervaldag(value: Date): Date {\r\n    var d = new Date(value);\r\n    d.setFullYear(d.getFullYear() + 1);\r\n    d.setDate(d.getDate() - 1);\r\n    return d;\r\n  }\r\n\r\n  berekenDatumLaatsteHernieuwing(value: Date): Date {\r\n    var d = new Date(value);\r\n    return new Date(new Date().getFullYear(), d.getMonth(), d.getDate());\r\n  }\r\n\r\n  search($event): void {\r\n    if (this.page) {\r\n      this.page.page = 1;\r\n      this.page['filter'] = $event.value;\r\n      this.page['ishernieuwing'] = true;\r\n      this.fetchData(this.page);\r\n    }\r\n  }\r\n\r\n  showModalRenew($event) {\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig hernieuwing')\r\n      .body('Weet u zeker dat u deze aanvraag wilt hernieuwen?')\r\n      .okBtn('Ok')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n      .then((x) => this.hernieuwing($event.id)) // if were here ok was clicked.\r\n      .catch((x) => {}); // if were here cancel was clicked.\r\n  }\r\n  showModalDelete($event) {\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig verwijdering')\r\n      .body('Weet u zeker dat u deze aanvraag wilt verwijderen?')\r\n      .okBtn('Ok')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n      .then((x) => this.delete($event.id)) // if were here ok was clicked.\r\n      .catch((x) => {}); // if were here cancel was clicked.\r\n  }\r\n\r\n  hernieuwing(aanvraagId: number): void {\r\n    this.aanvraagService.get(aanvraagId).subscribe(\r\n      (aanvraag) => {\r\n        this.aanvraagService\r\n          .patchDatumLaatsteHernieuwing(\r\n            aanvraagId,\r\n            this.berekenDatumLaatsteHernieuwing(\r\n              this.berekenDatumLaatsteHernieuwing(\r\n                aanvraag.datumLaatstehernieuwing\r\n              )\r\n            )\r\n          )\r\n          .subscribe((x) => {\r\n            this.fetchData(this.page);\r\n          });\r\n      },\r\n      (x) =>\r\n        this.toastr.warning(\r\n          x.ExtraInfo[x].join(','),\r\n          aanvraagId + ' kon niet vernieuwd worden'\r\n        )\r\n    );\r\n  }\r\n  delete(aanvraagId: number): void {\r\n    this.aanvraagService.delete(aanvraagId).subscribe(\r\n      (aanvraag) => {\r\n        this.toastr.info(aanvraagId + ' verwijderd.');\r\n        this.fetchData(this.page);\r\n      },\r\n      (x) =>\r\n        this.toastr.warning(\r\n          x.ExtraInfo[x].join(','),\r\n          aanvraagId + ' kon niet verwijderd worden'\r\n        )\r\n    );\r\n  }\r\n}\r\n","import 'rxjs/add/operator/share';\r\n\r\nimport { DatePipe } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Observable } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nimport { AuthService, Privilege } from '../auth';\r\nimport { IGridOptions } from '../componenten/datagrid';\r\nimport { ValidatorService } from '../componenten/validators';\r\nimport { ApplicationConstants, IPagedResult, IQueryParameters } from '../core';\r\nimport {\r\n  AbonnementService,\r\n  IKavelIdentifierDto,\r\n  KavelService,\r\n} from '../services';\r\nimport {\r\n  AanvraagWeigeringService,\r\n  IWeigeringsTermijn,\r\n} from '../services/aanvraag-weigering.service';\r\nimport { KavelStatusEnum } from '../services/kavel';\r\n\r\n@Component({\r\n  templateUrl: './html/wachtlijst-intake-view.component.html',\r\n  styles: [\r\n    '.badge, .kavel-detail { cursor: pointer; text-decoration: none;}',\r\n    `\r\n      .ajax-loading {\r\n        background-color: #ffffff;\r\n        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPSc2NHB4JyBoZWlnaHQ9JzY0cHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLXJpbmciPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgc3Ryb2tlLWRhc2hhcnJheT0iMTYzLjM2MjgxNzk4NjY2OTI2IDg3Ljk2NDU5NDMwMDUxNDIiIHN0cm9rZT0iI2QyNTM1MyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIyMCI+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iMCA1MCA1MDsxODAgNTAgNTA7MzYwIDUwIDUwOyIga2V5VGltZXM9IjA7MC41OzEiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMHMiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L3N2Zz4=);\r\n        background-size: 50px 50px;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class WachtlijstIntakeViewComponent {\r\n  private aanvraagStatus = ApplicationConstants.AanvraagStatus;\r\n\r\n  intake: any;\r\n  aanvraagMarkten: any;\r\n  registratie: boolean = false;\r\n  reservatie: boolean = false;\r\n  preregistratie: boolean = false;\r\n  stopgezet: boolean = false;\r\n  geannuleerd: boolean = false;\r\n  status: string;\r\n  data: any;\r\n  pageTitle: string;\r\n  hoofdcontactPersoon: any;\r\n  routerlink: string;\r\n  updateAanvraag: Observable<boolean>;\r\n  availableKavels: number;\r\n  deleted: boolean = false;\r\n  toegewezen: boolean = false;\r\n  kavelsLoading: boolean = false;\r\n  kavelsToewijzenEdit: boolean = false;\r\n  assigningKavelsLoading: boolean = false;\r\n  toewijzenAanvragenNietInAanmerking: Observable<boolean>;\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private modal: Modal,\r\n    private router: Router,\r\n    private kavelService: KavelService,\r\n    private abonnementService: AbonnementService,\r\n    private validatorSvc: ValidatorService,\r\n    private route: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private aanvraagWeigeringService: AanvraagWeigeringService,\r\n    private datePipe: DatePipe,\r\n    private auth: AuthService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe((data) => {\r\n      this.intake = data['aanvraag'] || {};\r\n      this.aanvraagMarkten = this.intake.aanvraagMarkten;\r\n      if (this.intake.deletedOn != null) {\r\n        this.deleted = true;\r\n      }\r\n      this.onload();\r\n    });\r\n    this.security();\r\n  }\r\n\r\n  onload(): void {\r\n    this.setLabels();\r\n    if (this.preregistratie) {\r\n      this.routerlink =\r\n        '/wachtlijst/preregistratie/' + this.intake.id + '/edit';\r\n    } else if (this.registratie) {\r\n      this.routerlink = '/wachtlijst/registratie/' + this.intake.id + '/edit';\r\n    } else if (this.reservatie) {\r\n      this.routerlink = '/wachtlijst/reservatie/' + this.intake.id + '/edit';\r\n    } else {\r\n      this.routerlink = '/wachtlijst/intake/' + this.intake.id + '/edit';\r\n    }\r\n  }\r\n\r\n  setLabels(): void {\r\n    // set status label\r\n    if (\r\n      this.intake.statusCode ===\r\n      ApplicationConstants.AanvraagStatus.Gereserveerd\r\n    ) {\r\n      this.reservatie = true;\r\n      this.status = ApplicationConstants.AanvraagStatus.Gereserveerd;\r\n    } else {\r\n      this.status = ApplicationConstants.AanvraagStatus.Geregistreerd;\r\n    }\r\n\r\n    if (this.intake.statusCode === ApplicationConstants.AanvraagStatus.Intake) {\r\n      this.status = ApplicationConstants.AanvraagStatus.Intake;\r\n    }\r\n\r\n    if (\r\n      this.intake.statusCode ===\r\n      ApplicationConstants.AanvraagStatus.Gepreregistreerd\r\n    ) {\r\n      this.preregistratie = true;\r\n      this.status = ApplicationConstants.AanvraagStatus.Gepreregistreerd;\r\n    }\r\n\r\n    if (\r\n      this.intake.statusCode ===\r\n      ApplicationConstants.AanvraagStatus.Geregistreerd\r\n    ) {\r\n      this.registratie = true;\r\n      this.status = ApplicationConstants.AanvraagStatus.Geregistreerd;\r\n    }\r\n\r\n    if (\r\n      this.intake.statusCode === ApplicationConstants.AanvraagStatus.Stopgezet\r\n    ) {\r\n      this.stopgezet = true;\r\n      this.status = ApplicationConstants.AanvraagStatus.Stopgezet;\r\n    }\r\n\r\n    if (\r\n      this.intake.statusCode === ApplicationConstants.AanvraagStatus.Geannuleerd\r\n    ) {\r\n      this.geannuleerd = true;\r\n      this.status = ApplicationConstants.AanvraagStatus.Geannuleerd;\r\n    }\r\n\r\n    // set button label\r\n    this.pageTitle = `${this.intake.klant.firmanaam} > ${\r\n      this.intake.statusCode\r\n    } ${this.datePipe.transform(this.intake.datum, 'dd/MM/yyyy')}`;\r\n  }\r\n\r\n  showKavel(aanvraagMarkt) {\r\n    aanvraagMarkt.kavels = [];\r\n    this.kavelsToewijzenEdit = true;\r\n    this.kavelObservables = [];\r\n    this.kavelsLoading = true;\r\n    this.fetchKavels(aanvraagMarkt.marktId);\r\n  }\r\n\r\n  kavelObservables = new Array<IKavelIdentifierDto>();\r\n\r\n  fetchKavels(marktId: number): void {\r\n    this.kavelService.getAllKavelsForMarktOverview(marktId).subscribe((x) => {\r\n      this.kavelObservables = x;\r\n      this.kavelsLoading = false;\r\n    });\r\n    this.kavelService.getAvailableAmount(marktId).subscribe((x) => {\r\n      this.availableKavels = x.valueOf();\r\n    });\r\n  }\r\n\r\n  selectKavel($event: Event, aanvraagMarkt: any, kavel: IKavelIdentifierDto) {\r\n    $event.preventDefault();\r\n    $event.stopPropagation();\r\n\r\n    if (\r\n      kavel.kavelStatus === KavelStatusEnum.Bezet ||\r\n      kavel.kavelStatus === KavelStatusEnum.BezetGereserveerd ||\r\n      kavel.kavelStatus === KavelStatusEnum.Gereserveerd\r\n    )\r\n      return;\r\n    const index = aanvraagMarkt.kavels.indexOf(kavel.id);\r\n    if (index > -1) {\r\n      kavel.selected = false;\r\n      this.availableKavels++;\r\n      aanvraagMarkt.kavels.splice(index, 1);\r\n    } else if (this.availableKavels == 0) {\r\n      kavel.selected = false;\r\n      this.toastr.error(\r\n        'Er moeten 5% kavels vrij gehouden worden',\r\n        'Kavels niet beschikbaar'\r\n      );\r\n    } else {\r\n      if (aanvraagMarkt.aantalKavels === aanvraagMarkt.kavels.length) {\r\n        this.toastr.warning(\r\n          'Er kunnen geen kavels meer gekozen worden omdat het maximum aantal bereikt is',\r\n          'Kavels'\r\n        );\r\n        return;\r\n      }\r\n      kavel.selected = true;\r\n      this.availableKavels--;\r\n      aanvraagMarkt.kavels.push(kavel.id);\r\n    }\r\n  }\r\n\r\n  cancelSelectKavels(aanvraagMarkt) {\r\n    delete aanvraagMarkt.kavels;\r\n    this.kavelsToewijzenEdit = false;\r\n  }\r\n\r\n  kavelsToewijzen(aanvraagMarkt) {\r\n    if (this.aanvraagMarkten.length < 0) {\r\n      this.toastr.error(\r\n        'Er is geen markt gekoppeld aan deze aanvraag',\r\n        'Markt'\r\n      );\r\n      return;\r\n    }\r\n    const markt = this.aanvraagMarkten[0];\r\n    if (!markt.kavels || markt.kavels.length < 0) {\r\n      this.toastr.error(\r\n        'Er zijn geen kavels aangeduid op de markt van deze aanvraag',\r\n        'Kavels'\r\n      );\r\n      return;\r\n    }\r\n    if (markt.aantalKavels > markt.kavels.length) {\r\n      this.toastr.error(\r\n        'Er zijn niet voldoende kavels aangeduid op deze aanvraag',\r\n        'Kavels'\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.assigningKavelsLoading = true;\r\n    this.abonnementService\r\n      .create({\r\n        aanvraagId: this.intake.id,\r\n        kavels: markt.kavels,\r\n      })\r\n      .subscribe(\r\n        (x) => {\r\n          this.toegewezen = true;\r\n          delete aanvraagMarkt.kavels;\r\n          this.assigningKavelsLoading = false;\r\n          this.toastr.info('Kavel(s) zijn toegewezen', 'Kavels');\r\n          this.router.navigate(['abonnement', x.id]);\r\n          this.kavelsToewijzenEdit = false;\r\n        },\r\n        (x) => {\r\n          this.toastr.error('Kon de kavel(s) niet toewijzen', 'Kavels');\r\n          this.assigningKavelsLoading = false;\r\n          if (x.ExtraInfo) {\r\n            for (let xtra in x.ExtraInfo) {\r\n              this.toastr.warning(x.ExtraInfo[xtra].join(','), xtra);\r\n            }\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  setKavelColor(kavel: IKavelIdentifierDto): any {\r\n    if (kavel.selected)\r\n      return {\r\n        'bg-blue': true,\r\n      };\r\n    else\r\n      return {\r\n        'bg-green': kavel.kavelStatus === KavelStatusEnum.Vrij,\r\n        'bg-red':\r\n          kavel.kavelStatus === KavelStatusEnum.Bezet ||\r\n          kavel.kavelStatus === KavelStatusEnum.InOverdracht,\r\n        'bg-orange': kavel.kavelStatus === KavelStatusEnum.Gereserveerd,\r\n        'bg-orange-striped':\r\n          kavel.kavelStatus === KavelStatusEnum.BezetGereserveerd,\r\n        'bg-green-striped':\r\n          kavel.kavelStatus === KavelStatusEnum.BezetTeBedelen,\r\n      };\r\n  }\r\n\r\n  security(): void {\r\n    this.updateAanvraag = this.auth.hasPermission(Privilege.Aanvraag.Update);\r\n    this.toewijzenAanvragenNietInAanmerking = this.auth.hasPermission(\r\n      Privilege.Aanvraag.ToewijzenAanvragenNietInAanmerking\r\n    );\r\n  }\r\n\r\n  dataWeigering: IPagedResult<any>;\r\n\r\n  gridWeigeringOptions: IGridOptions = {\r\n    stripedRows: true,\r\n    showPaging: false,\r\n    fields: [\r\n      {\r\n        field: '',\r\n        title: 'Termijn',\r\n        width: '15%',\r\n      },\r\n      {\r\n        field: 'startDatum',\r\n        title: 'Startdatum',\r\n        width: '15%',\r\n      },\r\n      {\r\n        field: 'weigeringsDatum',\r\n        title: 'Datum Weigering',\r\n        width: '20%',\r\n      },\r\n      {\r\n        field: 'motivatie',\r\n        title: 'Motivatie',\r\n        width: '25%',\r\n      },\r\n    ],\r\n  };\r\n\r\n  fetchWeigeringData(page: IQueryParameters): void {\r\n    this.aanvraagWeigeringService.getAll(this.intake.id).subscribe(\r\n      (x: IPagedResult<IWeigeringsTermijn>) => {\r\n        this.dataWeigering = x;\r\n        this.kanWeigeringStarten =\r\n          x.embedded.resourceList.findIndex((x) => !x.weigeringsDatum) === -1;\r\n      },\r\n      (x) =>\r\n        this.toastr.error('Kon de Weigeringstermijnen niet inladen', 'Termijn')\r\n    );\r\n  }\r\n\r\n  startWeigeringendisplay = false;\r\n  sluitWeigeringAfDisplay = false;\r\n  kanWeigeringStarten = false;\r\n\r\n  weigeringForm: FormGroup;\r\n\r\n  startWeigeringen(): void {\r\n    this.weigeringForm = this.fb.group({\r\n      startDatum: [new Date(Date.now()), [Validators.required]],\r\n      eindDatum: [\r\n        {\r\n          value: new Date(Date.now()).addMonths(1).addDays(-1),\r\n          disabled: true,\r\n        },\r\n      ],\r\n    });\r\n    this.startWeigeringendisplay = true;\r\n  }\r\n\r\n  afsluitenWeigering(id: number): void {\r\n    this.weigeringForm = this.fb.group({\r\n      id: [id],\r\n      weigeringsDatum: [new Date(Date.now()), [Validators.required]],\r\n      motivatie: [''],\r\n    });\r\n    this.sluitWeigeringAfDisplay = true;\r\n  }\r\n\r\n  annuleerWeigeringsTermijn(id: number): void {\r\n    this.modal\r\n      .confirm()\r\n      .title('Weigeringstermijn annuleren')\r\n      .body('Bent u zeker dat u deze weigeringstermijn wenst te annuleren?')\r\n      .okBtn('Bevestigen')\r\n      .cancelBtn('Annuleren')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n      .then((x) => {\r\n        this.weigeringAnnuleren({\r\n          id: id,\r\n          weigeringsDatum: new Date(Date.now()),\r\n          negeerRegistratie: true,\r\n        });\r\n      }) // if were here ok was clicked.\r\n      .catch((x) => {}); // if were here cancel was clicked.\r\n  }\r\n\r\n  cancelWeigering(): void {\r\n    this.startWeigeringendisplay = false;\r\n    this.sluitWeigeringAfDisplay = false;\r\n    this.weigeringForm = null;\r\n  }\r\n\r\n  submitWeigering($event) {\r\n    if (!this.weigeringForm.valid) {\r\n      this.validatorSvc.valideFormGroup(this.weigeringForm);\r\n      return;\r\n    }\r\n    if (this.startWeigeringendisplay) {\r\n      this.modal\r\n        .confirm()\r\n        .title('Weigeringstermijn starten')\r\n        .body(\r\n          'Bent u zeker dat u de weigeringstermijn wenst te starten op de gekozen datum?'\r\n        )\r\n        .okBtn('Bevestigen')\r\n        .cancelBtn('Annuleren')\r\n        .open()\r\n        .result.catch() // catch error not related to the result (modal open...)\r\n        .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n        .then((x) => {\r\n          this.aanvraagWeigeringService\r\n            .starten(this.intake.id, this.weigeringForm.value)\r\n            .pipe(\r\n              tap((b) => {\r\n                this.weigeringForm = null;\r\n                this.startWeigeringendisplay = false;\r\n              })\r\n            )\r\n            .subscribe(\r\n              (b) => {\r\n                this.toastr.success('Weigeringstermijn is gestart', 'Termijn');\r\n              },\r\n              (b) => {\r\n                this.toastr.error(\r\n                  'Kon de Weigeringstermijn niet starten',\r\n                  'Termijn'\r\n                );\r\n                if (b.ExtraInfo) {\r\n                  for (let xtra in b.ExtraInfo) {\r\n                    this.toastr.warning(b.ExtraInfo[xtra].join(','), xtra);\r\n                  }\r\n                }\r\n              }\r\n            );\r\n        }) // if were here ok was clicked.\r\n        .catch((x) => {}); // if were here cancel was clicked.\r\n    }\r\n    if (this.sluitWeigeringAfDisplay) {\r\n      this.modal\r\n        .confirm()\r\n        .title('Aanvraagweigering registreren')\r\n        .body('Wilt u deze weigering van de aanvraag registreren?')\r\n        .okBtn('Bevestigen')\r\n        .cancelBtn('Annuleren')\r\n        .open()\r\n        .result.catch() // catch error not related to the result (modal open...)\r\n        .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n        .then((x) => {\r\n          this.weigeringRegistreren(this.weigeringForm.value);\r\n        }) // if were here ok was clicked.\r\n        .catch((x) => {}); // if were here cancel was clicked.\r\n    }\r\n  }\r\n\r\n  weigeringAnnuleren(data: any): void {\r\n    this.aanvraagWeigeringService\r\n      .registreren(this.intake.id, data)\r\n      .pipe(\r\n        tap((x) => {\r\n          this.fetchWeigeringData(null);\r\n        })\r\n      )\r\n      .subscribe(\r\n        (x) => {\r\n          this.toastr.success(\r\n            'Weigeringstermijn is geannuleerd',\r\n            'Weigeringstermijn'\r\n          );\r\n        },\r\n        (x) => {\r\n          this.toastr.error(\r\n            'Kon de weigeringstermijn niet annuleren',\r\n            'Weigeringstermijn'\r\n          );\r\n          if (x.ExtraInfo) {\r\n            for (let xtra in x.ExtraInfo) {\r\n              this.toastr.warning(xtra, x.ExtraInfo[xtra].join(','));\r\n            }\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  weigeringRegistreren(data: any): void {\r\n    this.aanvraagWeigeringService\r\n      .registreren(this.intake.id, data)\r\n      .pipe(\r\n        tap((x) => {\r\n          this.weigeringForm = null;\r\n          this.sluitWeigeringAfDisplay = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (x: IWeigeringsTermijn) => {\r\n          this.toastr.success('Weigeringen is geregistreerd', 'Weigering');\r\n          location.replace('/wachtlijst/registratie/' + this.intake.id);\r\n        },\r\n        (x) => {\r\n          this.toastr.error('Kon de weigering niet registreren', 'Weigering');\r\n          if (x.ExtraInfo) {\r\n            for (let xtra in x.ExtraInfo) {\r\n              this.toastr.warning(xtra, x.ExtraInfo[xtra].join(','));\r\n            }\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  private displayErrors(x: any) {\r\n    if (x.ExtraInfo) {\r\n      for (let xtra in x.ExtraInfo) {\r\n        this.toastr.warning(x.ExtraInfo[xtra].join(','), xtra);\r\n      }\r\n    }\r\n  }\r\n  changeDate($event) {\r\n    this.weigeringForm.controls['eindDatum'].patchValue(\r\n      $event.addMonths(1).addDays(-1)\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xs-12\\\">\\r\\n                        <h3>\\r\\n                            <span class=\\\"fa fa-dot-circle-o\\\"></span>&nbsp;\\r\\n                            {{pageTitle}}\\r\\n                        </h3>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-2\\\">\\r\\n                            <select class=\\\"form-control\\\" (change)=\\\"isCommercieel($event.target.value)\\\">\\r\\n                                <option selected=\\\"selected\\\" value=\\\"TRUE\\\">Commercieel</option>\\r\\n                                <option value=\\\"FALSE\\\">Niet-commercieel</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <search (search)=\\\"searchKlanten($event)\\\"></search>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-7\\\">\\r\\n                            <a class=\\\"btn btn-primary pull-right\\\" (click)=\\\"nieuweKlant()\\\">\\r\\n                                <i class=\\\"fa fa-plus\\\"></i>\\r\\n                                <span class=\\\"hidden-sm hidden-xs\\\">&nbsp;&nbsp;Nieuwe klant</span>\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid id=\\\"new-intake-klanten-table\\\" [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3 id=\\\"title-hernieuwing-inschrijving\\\">\\r\\n                    <span class=\\\"fa fa-dot-circle-o\\\"></span>&nbsp;\\r\\n                    Hernieuwing inschrijving\\r\\n                </h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-3\\\">\\r\\n                            <search (search)=\\\"search($event)\\\"></search>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\">\\r\\n                                <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <td>{{item.klant.firmanaam}}</td>\\r\\n                                    <td>{{item.klant.ondernemingsnr}}</td>\\r\\n                                    <td>{{item.markt.naam}}</td>\\r\\n                                    <td>{{berekenVervaldag(item.datumLaatsteHernieuwing) | date: 'dd/MM/yyyy'}}</td>\\r\\n                                </ng-template>\\r\\n                                <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <button *ngIf=\\\"item.status=='GEREGISTREERD'\\\" title=\\\"Verwijderen\\\" class=\\\"btn btn-danger btn-xs btn-danger\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"showModalDelete(item)\\\">\\r\\n                                        <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                                    </button>\\r\\n                                    <button title=\\\"Hernieuw\\\" class=\\\"btn btn-success btn-xs btn-success\\\" [attr.data-id]=\\\"item.id\\\" (click)=\\\"showModalRenew(item)\\\">\\r\\n                                        <i class=\\\"fa fa-repeat\\\"></i>\\r\\n                                    </button>\\r\\n                                </ng-template>\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Modal } from 'ngx-modialog/plugins/bootstrap';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuthService, Privilege } from '../auth';\r\nimport { IGridOptions, SortOrder } from '../componenten/datagrid';\r\nimport { IPagedResult, IQueryParameters } from '../core';\r\nimport { IntakeService } from '../services/intake.service';\r\n\r\n@Component({\r\n  selector: 'mafo-app',\r\n  templateUrl: './html/wachtlijst-intake.component.html',\r\n})\r\nexport class WachtlijstIntakeComponent {\r\n  page: IQueryParameters;\r\n  data: IPagedResult<any>;\r\n  errorMessage: any;\r\n  aanvraag: any;\r\n  private intake: boolean = true;\r\n  pageTitle: string;\r\n  search: string;\r\n  updateAanvraag: Observable<boolean>;\r\n  deleteAanvraag: Observable<boolean>;\r\n  addAanvraag: Observable<boolean>;\r\n\r\n  gridOptions: IGridOptions = {\r\n    stripedRows: true,\r\n    fields: [\r\n      {\r\n        field: 'datum',\r\n        title: 'Datum',\r\n        sortable: true,\r\n        sort: SortOrder.Descending,\r\n      },\r\n      {\r\n        field: 'ondernemingsNr',\r\n        title: 'OndernemingsNr',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'firmanaam',\r\n        title: 'Firmanaam',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'soort',\r\n        title: 'Soort',\r\n        sortable: true,\r\n      },\r\n      {\r\n        field: 'eerstemarkt',\r\n        title: 'Markten',\r\n        sortable: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n  constructor(\r\n    private intakeService: IntakeService,\r\n    private router: Router,\r\n    private modal: Modal,\r\n    private route: ActivatedRoute,\r\n    private auth: AuthService\r\n  ) {}\r\n\r\n  fetchData(page: IQueryParameters): void {\r\n    if (!this.page) this.page = page;\r\n    else {\r\n      this.page.page = page.page;\r\n      this.page.pageSize = page.pageSize;\r\n      this.page.sort = page.sort;\r\n    }\r\n    if (this.intake) {\r\n      this.page['aanvraagstatuscode'] = 'INTAKE';\r\n    } else {\r\n      this.page['aanvraagstatuscode'] = 'GEPREREGISTREERD';\r\n    }\r\n    this.intakeService.getAll(this.page).subscribe((x) => {\r\n      this.data = x;\r\n    });\r\n  }\r\n\r\n  rowClicked(row: any) {\r\n    if (this.intake) {\r\n      this.router.navigate(['wachtlijst', 'intake', row.data.id]);\r\n    } else {\r\n      this.router.navigate(['wachtlijst', 'preregistratie', row.data.id]);\r\n    }\r\n  }\r\n\r\n  searchIntakes($event): void {\r\n    if (this.page) {\r\n      this.page.page = 1;\r\n      this.page['filter'] = $event.value;\r\n      this.fetchData(this.page);\r\n    }\r\n  }\r\n\r\n  marktenTooltip(markten: Array<string>): string {\r\n    var first = markten.shift();\r\n    var result = markten.join(', ');\r\n    markten.unshift(first);\r\n    return result;\r\n\r\n    //let result: string = \"\";\r\n    //markten.join()\r\n\r\n    //for (var i = 1; i < markten.length; i++) {\r\n    //    result += markten[i];\r\n    //}\r\n    //return result;\r\n  }\r\n\r\n  showDeleteModal($event) {\r\n    this.modal\r\n      .confirm()\r\n      .title('Bevestig verwijderen')\r\n      .body('Weet u zeker dat u dit record wilt verwijderen?')\r\n      .okBtn('verwijderen')\r\n      .open()\r\n      .result.catch() // catch error not related to the result (modal open...)\r\n      .then((dialog) => dialog.result) // dialog has more properties,lets just return the promise for a result.\r\n      .then((x) => this.delete($event.id)) // if were here ok was clicked.\r\n      .catch((x) => {}); // if were here cancel was clicked.\r\n  }\r\n\r\n  delete(intakeId: number): void {\r\n    this.intakeService.delete(intakeId).subscribe(\r\n      (x) => {\r\n        this.fetchData(this.page);\r\n      },\r\n      (error) => (this.errorMessage = <any>error)\r\n    );\r\n  }\r\n\r\n  edit($event) {\r\n    if (this.intake) {\r\n      this.router.navigate(['wachtlijst', 'intake', $event.id, 'edit']);\r\n    } else {\r\n      this.router.navigate(['wachtlijst', 'preregistratie', $event.id, 'edit']);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.intake = this.route.snapshot.data['intake'];\r\n    this.pageTitle = this.intake ? 'Intakes' : 'Preregistraties';\r\n    this.security();\r\n  }\r\n\r\n  security(): void {\r\n    this.addAanvraag = this.auth.hasPermission(Privilege.Aanvraag.Add);\r\n    this.updateAanvraag = this.auth.hasPermission(Privilege.Aanvraag.Update);\r\n    this.deleteAanvraag = this.auth.hasPermission(Privilege.Aanvraag.Delete);\r\n  }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { KlantService } from \"../componenten/klant-core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { IQueryParameters, IPagedResult } from \"../core\";\r\nimport { IGridOptions, SortOrder } from \"../componenten/datagrid\";\r\n\r\n@Component({\r\n    templateUrl: './html/wachtlijst-intake-klant.component.html'\r\n})\r\n\r\nexport class WachtlijstIntakeKlantComponent {\r\n    pageTitle: string = \"Nieuwe intake\";\r\n    private commercieel: boolean = true;\r\n    data: IPagedResult<any>;\r\n    search: string;\r\n    page: IQueryParameters;\r\n    gridOptions: IGridOptions = {\r\n        stripedRows: true,\r\n        fields: [{\r\n            field: \"firmanaam\",\r\n            title: \"Firmanaam\",\r\n            sortable: true,\r\n            sort: SortOrder.Ascending,\r\n            width: \"25%\"\r\n        }, {\r\n            field: \"ondernemingsnr\",\r\n            title: \"Ondernemingsnummer\",\r\n            width: \"25%\"\r\n\r\n        }, {\r\n            field: \"contactPersoon\",\r\n            title: \"Contactpersoon\",\r\n            width: \"25%\"\r\n\r\n        }, {\r\n            field: \"telefoon\",\r\n            title: \"Telefoon\",\r\n            width: \"25%\"\r\n        }]\r\n    };\r\n\r\n    constructor\r\n        (\r\n        private klantService: KlantService,\r\n        private router: Router,\r\n        private route: ActivatedRoute\r\n        ) { }\r\n\r\n    fetchData(page: IQueryParameters): void {\r\n        if (!this.page) this.page = page;\r\n        else {\r\n            this.page.page = page.page;\r\n            this.page.pageSize = page.pageSize;\r\n            this.page.sort = page.sort;\r\n        }\r\n        this.klantService.getAll(this.commercieel, false, this.page).subscribe(x => this.data = x);\r\n    }\r\n\r\n    searchKlanten($event): void {\r\n        if (this.page) {\r\n            this.page.page = 1;\r\n            this.page[\"filter\"] = $event.value;\r\n            this.fetchData(this.page);\r\n        }\r\n    }\r\n\r\n    isCommercieel(value) {\r\n        if (value == 'TRUE')\r\n            this.commercieel = true;\r\n        else\r\n            this.commercieel = false;\r\n\r\n        this.fetchData(this.page);\r\n    }\r\n\r\n    nieuweKlant() {\r\n        this.router.navigate([\"klant\",\"nieuw\"]);\r\n    }\r\n\r\n    rowClicked(row: any) {\r\n        this.router.navigate([\"wachtlijst\", \"intake\", \"nieuw\", row.data.id]);\r\n    }\r\n}","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <mafo-panel selector=\\\"title\\\" [collapsable]=\\\"false\\\" [open]=\\\"true\\\">\\r\\n            <mafo-panel-heading>\\r\\n                <h3 id=\\\"title-registraties\\\">Registraties</h3>\\r\\n            </mafo-panel-heading>\\r\\n            <mafo-panel-body>\\r\\n                <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-md-4\\\">\\r\\n                            <form-group>\\r\\n                                <search [(ngModel)]=\\\"filter.query\\\" (search)=\\\"filterRegistraties($event)\\\"></search>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-4\\\">\\r\\n                            <form-group>\\r\\n                                <code-select type=\\\"District\\\" [(ngModel)]=\\\"filter.district\\\" (ngModelChange)=\\\"districtChanged($event)\\\"></code-select>\\r\\n                            </form-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-4\\\">\\r\\n                            <div class=\\\"pull-right\\\">\\r\\n                                <form-group>\\r\\n                                    <dp-slider label=\\\"Toon enkel toe te wijzen\\\" [(ngModel)]=\\\"filter.toeTeWijzen\\\" (ngModelChange)=\\\"filterToeTeWijzen($event)\\\"></dp-slider>\\r\\n                                </form-group>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <hr />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <dp-datagrid id =\\\"registraties-table\\\" [data]=\\\"data\\\" [options]=\\\"gridOptions\\\" (fetchData)=\\\"fetchData($event)\\\" (rowClicked)=\\\"rowClicked($event)\\\">\\r\\n                                <ng-template #rowTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <td>\\r\\n                                        <code-display type=\\\"district\\\" [value]=\\\"item.district.code\\\"></code-display>\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        <code-display type=\\\"dagvandeweek\\\" [value]=\\\"item.dagVanDeWeek.code\\\"></code-display>\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        {{item.locatie.naam}}\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        {{item.naam}}\\r\\n                                    </td>\\r\\n                                </ng-template>\\r\\n                                <ng-template #rowActions let-item=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                                    <span title=\\\"Nog te bedelen kavels\\\" class=\\\"badge bg-red\\\">{{item.toewijsbareKavels}}</span>\\r\\n                                    <span title=\\\"Totaal aantal aangevraagde kavels\\\" class=\\\"badge\\\">{{item.openstaandeGeregistreerdeKavels}}</span>\\r\\n                                </ng-template>\\r\\n                            </dp-datagrid>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </mafo-panel-body>\\r\\n        </mafo-panel>\\r\\n    </div>\\r\\n</div>\"","\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppSettings } from '../app.settings';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IQueryParameters, IPagedResult } from \"../core\";\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { BaseService } from \"../core\";\r\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class IntakeService extends BaseService {\r\n    private url = AppSettings.API_ENDPOINT + \"intakes/\";\r\n\r\n    constructor(protected _http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(_http, loader);\r\n    }\r\n\r\n    getAll(query?: any): Observable<IPagedResult<any>> {\r\n        var params = new HttpParams();\r\n        if (query) {\r\n            params = params.set(\"page\", query.page.toString());\r\n            params = params.set(\"pageSize\", query.pageSize.toString());\r\n            if (query.filter) params = params.set(\"filter\", query.filter);\r\n            if (query.aanvraagstatuscode) params = params.set(\"aanvraagStatusCode\", query.aanvraagstatuscode);\r\n            if (query.sort && query.sort.length > 0) params = params.set(\"sort\", query.sort.join(\",\"));\r\n        }\r\n        this.loader.start();\r\n        return this._http.get<IPagedResult<any>>(this.url, { headers: this.jsonHeaders, params: params }).pipe(\r\n            catchError(this.handleError),\r\n            tap(x => this.loader.complete()));\r\n    }\r\n\r\n    get(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.get<any>(this.url + id).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    delete(id: number): Observable<any> {\r\n        this.loader.start();\r\n        return this._http.delete(this.url + id, { headers: this.jsonHeaders }).pipe(\r\n            tap(x => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n}","\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { AppSettings } from '../app.settings';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n\r\nimport { SlimLoadingBarService } from \"ng2-slim-loading-bar\";\r\nimport { BaseService, IPagedResult } from \"../core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class AanvraagWeigeringService extends BaseService {\r\n    private url = AppSettings.API_ENDPOINT;\r\n\r\n    constructor(protected _http: HttpClient, protected loader: SlimLoadingBarService) {\r\n        super(_http, loader);\r\n    }\r\n\r\n    getAll(aanvraagId: number): Observable<IPagedResult<IWeigeringsTermijn>> {\r\n        this.loader.start();\r\n        return this._http.get<IPagedResult<IWeigeringsTermijn>>(`${this.url}requests/${aanvraagId}/refusals`).pipe(\r\n            tap(data => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    starten(aanvraagId: number, item: any): Observable<IWeigeringsTermijn> {\r\n        this.loader.start();\r\n        return this._http.post<IWeigeringsTermijn>(`${this.url}requests/${aanvraagId}/refusals`, item).pipe(\r\n            tap(data => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n    registreren(aanvraagId: number, item: any): Observable<IWeigeringsTermijn> {\r\n        this.loader.start();\r\n        return this._http.put<IWeigeringsTermijn>(`${this.url}requests/${aanvraagId}/refusals/${item.id}`, item).pipe(\r\n            tap(data => this.loader.complete()),\r\n            catchError(this.handleError));\r\n    }\r\n\r\n}\r\n\r\nexport interface IWeigeringsTermijn {\r\n    id?: number;\r\n    startDatum: Date;\r\n    weigeringsDatum?: Date;\r\n    motivatie?: string;\r\n}"],"sourceRoot":"webpack:///"}